webpackJsonp([1],{"4WSK":function(e,t){},"5W41":function(e,t){},DhVm:function(e,t){},HBSQ:function(e,t){},KDfe:function(e,t,a){e.exports=a.p+"static/img/soft_demo1.55d2aab.jpg"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("4WSK");var l=a("P+0C"),i=a.n(l),s=a("xd7I"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App",components:{}},r,!1,function(e){a("5W41")},null,null).exports,n=a("ZWLj"),c={name:"Ind",components:{},data:()=>({currentTitle:"终端管理",ifChildTitle:!1,childTitle:"",buttons:[{title:"终端管理",index:"1",url:"/",ifChild:!1,icon:"fa fa-television"},{title:"容器管理",index:"2",url:"/containerManege",ifChild:!1,icon:"fa fa-university"},{title:"微应用管理",index:"3",url:"/applicationManege",ifChild:!1,icon:"fa fa-th-large"},{title:"应用商店",index:"4",url:"/appList",ifChild:!1,icon:"el-icon-s-goods"},{title:"告警推送",index:"5",url:"/alarmPush",ifChild:!1,icon:"fa fa-warning"},{title:"系统管理",index:"6",url:"/",ifChild:!0,icon:"fa fa-cog",child:[{title:"租户管理",index:"1",url:"/tenantManage",icon:""},{title:"用户管理",index:"2",url:"/userManage",icon:""},{title:"用户总览",index:"3",url:"/userOverview",icon:""}]}]}),mounted(){},methods:{loginOut(){sessionStorage.clear(),this.$router.push({path:"/login"})},changeTitle(e,t){this.currentTitle=e.title,void 0===t?this.ifChildTitle=!1:(this.ifChildTitle=!0,this.childTitle=e.child[t].title)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"ind_div"}},[l("el-container",[l("el-header",{staticClass:"header"},[l("el-row",[l("el-col",{attrs:{span:1,offset:1}},[l("img",{attrs:{src:a("dLd/"),height:"50",width:"50"}})]),e._v(" "),l("el-col",{attrs:{span:4}},[l("h1",[e._v("AC物联管理系统")])]),e._v(" "),l("el-col",{staticStyle:{float:"right","margin-top":"10px"},attrs:{span:1}},[l("el-dropdown",{attrs:{trigger:"click"}},[l("span",{staticClass:"el-dropdown-link dropdownArea",staticStyle:{"font-size":"30px"}},[l("i",{staticClass:"el-icon-s-unfold"})]),e._v(" "),l("el-dropdown-menu",{staticClass:"dropMenu",attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[l("router-link",{attrs:{to:"/"}},[l("i",{staticClass:"fa fa-key",attrs:{"aria-hidden":"true"}}),e._v("修改密码\n                ")])],1),e._v(" "),l("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[l("router-link",{attrs:{to:"/"}},[l("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v("个人信息\n                ")])],1),e._v(" "),l("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[l("el-button",{staticStyle:{color:"#ffffff"},attrs:{type:"text"},on:{click:e.loginOut}},[l("i",{staticClass:"fa fa-power-off",attrs:{"aria-hidden":"true"}}),e._v("登出\n                ")])],1)],1)],1)],1),e._v(" "),l("el-col",{staticClass:"dropdownArea",staticStyle:{float:"right","margin-top":"10px","font-size":"25px"},attrs:{span:1}},[l("i",{staticClass:"fa fa-bell",attrs:{"aria-hidden":"true"}})])],1)],1),e._v(" "),l("el-container",[l("el-aside",{staticStyle:{height:"100%"},attrs:{width:"200px"}},[l("el-row",[l("el-col",{attrs:{span:24}},[l("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"850px","text-align":"center"},attrs:{"default-active":"1","background-color":"rgb(240,240,240)","text-color":"#000000","active-text-color":"#0b54c1"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.buttons,function(t,a){return l("div",{key:a},[t.ifChild?e._e():l("router-link",{attrs:{to:t.url},nativeOn:{click:function(a){return e.changeTitle(t)}}},[l("el-menu-item",{key:a,attrs:{index:t.index}},[l("span",{attrs:{slot:"title"},slot:"title"},[l("i",{class:t.icon,attrs:{"aria-hidden":"true"}}),e._v("\n                      "+e._s(t.title)+"\n                    ")])])],1),e._v(" "),t.ifChild?l("el-submenu",{staticClass:"childMenu",attrs:{index:t.index}},[l("template",{slot:"title"},[l("i",{class:t.icon}),e._v(" "),l("span",[e._v(e._s(t.title))])]),e._v(" "),e._l(t.child,function(a,i){return l("div",{key:i},[t.ifChild?l("router-link",{attrs:{to:a.url},nativeOn:{click:function(a){return e.changeTitle(t,i)}}},[l("el-menu-item",{attrs:{index:t.index+a.index}},[l("i",{class:a.icon,attrs:{"aria-hidden":"true"}}),e._v("\n                   "+e._s(a.title)+"\n                   ")])],1):e._e()],1)})],2):e._e()],1)}),0)],1)],1)],1),e._v(" "),l("el-main",[l("el-breadcrumb",{staticStyle:{"margin-bottom":"10px"},attrs:{"separator-class":"el-icon-arrow-right"}},[l("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[l("i",{staticClass:"fa fa-home",staticStyle:{"font-size":"25px",color:"rgb(75,131,178)"},attrs:{"aria-hidden":"true"}})]),e._v(" "),l("el-breadcrumb-item",[e._v(e._s(e.currentTitle))]),e._v(" "),e.ifChildTitle?l("el-breadcrumb-item",[e._v(e._s(e.childTitle))]):e._e()],1),e._v(" "),l("router-view",{attrs:{to:{path:"/"}}})],1)],1)],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(c,d,!1,function(e){a("u8Zm"),a("Rqpy")},"data-v-20f74ec7",null).exports,u={name:"LoginPage",data:()=>({activeName:"userLogin",userForm:{username:"",password:""},heightData:0,formRule:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),mounted(){this.resize(),window.addEventListener("resize",this.resize)},beforeDestroy(){window.removeEventListener("resize",this.resize)},created(){},methods:{resize(){const e=Math.max(document.documentElement.clientHeight,768);this.heightData=e-50+"px"},changeCodeImg(){let e=Math.ceil(10*Math.random());this.imgCodeUrl="/api/genVerCode?"+e},submitForm(){this.$router.push("/")}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page",style:{height:e.heightData}},[a("el-row",[a("el-col",{attrs:{span:7,offset:2}},[a("h1",{staticStyle:{"padding-top":"50%",color:"#ffff","font-size":"48px"}},[e._v("AC物联管理系统")])]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"},attrs:{span:6,offset:3}},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户登录",name:"userLogin"}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.formRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v("登录")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("router-link",{attrs:{to:"/register"}},[a("el-button",[e._v("立即注册")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(u,p,!1,function(e){a("w3yl")},"data-v-bf00a4ce",null).exports,h={name:"signPage",data(){let e=(e,t,a)=>{if(!t)return a(new Error("请输入您的账号"));if(!/^[A-Za-z0-9]+$/.test(t))return a(new Error("账号由数字和英文字母组成，请重新输入"));a()},t=(e,t,a)=>{if(!t)return a(new Error("请输入您的密码"));if(!/^(\w){6,20}$/.test(t))return a(new Error("密码由6-20个字母、数字、下划线组成，请重新输入"));a()},a=(e,t,a)=>{if(!t)return a(new Error("请输入您的手机号"));{const e=/^1[3|4|5|7|8][0-9]\d{8}$/;if(console.log(e.test(t)),!e.test(t))return a(new Error("请输入正确的手机号"));a()}};return{activeName:"userRegister",userForm:{username:"",passwd:"",email:"",address:"",nickname:"",userCode:"",phone:"",verificationCode:""},heightData:0,enterpriseForm:{username:"",passwd:"",email:"",name:"",addr:"",nickname:"",orgId:"",phone:"",verificationCode:""},registerRule:{username:[{required:!0,message:"请输入您的账号",trigger:"blur"},{validator:e,trigger:"blur"}],passwd:[{required:!0,message:"请输入您的密码",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"请输入您的地址",trigger:"blur"}],nickname:[{required:!0,message:"请输入您的姓名",trigger:"blur"}],userCode:[{required:!0,message:"请输入您的身份证号码",trigger:"blur"}],phone:[{required:!0,message:"请输入您的手机号",trigger:"blur"},{validator:a,trigger:"blur"}]},enterpriseRule:{username:[{required:!0,message:"请输入您的账号",trigger:"blur"},{validator:e,trigger:"blur"}],passwd:[{required:!0,message:"请输入您的密码",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"请输入您的地址",trigger:"blur"}],nickname:[{required:!0,message:"请输入您的企业名称",trigger:"blur"}],orgId:[{required:!0,message:"请输入您的企业信用代码",trigger:"blur"}],phone:[{required:!0,message:"请输入您的手机号",trigger:"blur"},{validator:a,trigger:"blur"}]}}},mounted(){this.resize(),window.addEventListener("resize",this.resize)},beforeDestroy(){window.removeEventListener("resize",this.resize)},methods:{resize(){const e=Math.max(document.documentElement.clientHeight,768);this.heightData=e-120+"px"},userRegister(e){this.$axios.get("/sysuser/check-username",{params:{username:this.userForm.username}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get("/sysuser/check",{params:{column:"email",value:this.userForm.email}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get("/sysuser/check",{params:{column:"phone",value:this.userForm.phone}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.post("/sysuser/create",this.userForm).then(e=>{"成功"===e.data.message?(this.$message({showClose:!0,message:"注册成功",type:"success"}),this.$router.push("/")):this.$message({showClose:!0,message:"注册失败",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"手机号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"邮箱已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"账号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)})},enterpriseRegister(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.$axios.get("/sysuser/check-username",{params:{username:this.enterpriseForm.username}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get("/sysuser/check",{params:{column:"email",value:this.enterpriseForm.email}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get("/sysuser/check",{params:{column:"phone",value:this.enterpriseForm.phone}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.post("/sysuser/org-reg",this.enterpriseForm).then(e=>{"成功"===e.data.message?(this.$message({showClose:!0,message:"注册成功",type:"success"}),this.$router.push("/")):this.$message({showClose:!0,message:"注册失败",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"手机号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"邮箱已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"账号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)})})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register-page",style:{height:e.heightData}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"},attrs:{span:8,offset:7}},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"个人用户注册",name:"userRegister"}},[a("el-row",[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.registerRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入您的账号"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入您的密码"},model:{value:e.userForm.passwd,callback:function(t){e.$set(e.userForm,"passwd",t)},expression:"userForm.passwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入您的电子邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{attrs:{placeholder:"请输入您的联系地址"},model:{value:e.userForm.address,callback:function(t){e.$set(e.userForm,"address",t)},expression:"userForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.userForm.nickname,callback:function(t){e.$set(e.userForm,"nickname",t)},expression:"userForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{placeholder:"请输入您的身份证号"},model:{value:e.userForm.userCode,callback:function(t){e.$set(e.userForm,"userCode",t)},expression:"userForm.userCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.userForm.phone,callback:function(t){e.$set(e.userForm,"phone",t)},expression:"userForm.phone"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.userRegister("userForm")}}},[e._v("立即注册")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"企业用户注册",name:"enterpriseRegister"}},[a("el-row",[a("el-form",{ref:"enterpriseForm",attrs:{model:e.enterpriseForm,rules:e.enterpriseRule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入您的账号"},model:{value:e.enterpriseForm.username,callback:function(t){e.$set(e.enterpriseForm,"username",t)},expression:"enterpriseForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入您的密码"},model:{value:e.enterpriseForm.passwd,callback:function(t){e.$set(e.enterpriseForm,"passwd",t)},expression:"enterpriseForm.passwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入您的电子邮箱"},model:{value:e.enterpriseForm.email,callback:function(t){e.$set(e.enterpriseForm,"email",t)},expression:"enterpriseForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.enterpriseForm.name,callback:function(t){e.$set(e.enterpriseForm,"name",t)},expression:"enterpriseForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业名",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.enterpriseForm.nickname,callback:function(t){e.$set(e.enterpriseForm,"nickname",t)},expression:"enterpriseForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业信用代码",prop:"orgId"}},[a("el-input",{attrs:{placeholder:"请输入您的企业信用代码"},model:{value:e.enterpriseForm.orgId,callback:function(t){e.$set(e.enterpriseForm,"orgId",t)},expression:"enterpriseForm.orgId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{attrs:{placeholder:"请输入您的联系地址"},model:{value:e.enterpriseForm.addr,callback:function(t){e.$set(e.enterpriseForm,"addr",t)},expression:"enterpriseForm.addr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.enterpriseForm.phone,callback:function(t){e.$set(e.enterpriseForm,"phone",t)},expression:"enterpriseForm.phone"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.enterpriseRegister("enterpriseForm")}}},[e._v("立即注册")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(h,v,!1,function(e){a("rCuC"),a("tImo")},"data-v-4040cf42",null).exports;a("KrjX");const b={};var _={name:"terminalManege",data:()=>({activeTab:"allView",tableSize:0,tableLimit:10,selectedRow:[],searchItem:{terminalId:"",name:"",neType:""},versionArr:{title:"请选择版本号",options:[{value:"1",label:"1.0"},{value:"2",label:"1.1"},{value:"3",label:"1.2"}]},ascriptionArr:{title:"请选择归属地",options:[{value:"1",label:"北京"},{value:"2",label:"上海"},{value:"3",label:"济南"}]},allDataArr:[{title:"终端总数",timeTitle:"当前",smallTitle:"接入终端总数",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"blue"},{title:"在线终端总数",timeTitle:"当前",smallTitle:"当前在线终端总数",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"green"},{title:"活跃终端总数",timeTitle:"月",smallTitle:"活跃终端",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"greenAll"},{title:"未证实终端总数",timeTitle:"当前",smallTitle:"未证实终端",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"orange"}],mapData:[{name:"河北",value:102},{name:"山西",value:81},{name:"内蒙古",value:47},{name:"辽宁",value:67},{name:"黑龙江",value:123},{name:"江苏",value:92},{name:"浙江",value:114},{name:"安徽",value:109},{name:"福建",value:116},{name:"江西",value:91},{name:"山东",value:119},{name:"河南",value:137},{name:"湖北",value:116},{name:"湖南",value:114},{name:"四川",value:125},{name:"贵州",value:62},{name:"云南",value:83},{name:"西藏",value:9},{name:"陕西",value:80},{name:"甘肃",value:56},{name:"青海",value:10},{name:"宁夏",value:18},{name:"新疆",value:180},{name:"广东",value:123},{name:"广西",value:59},{name:"海南",value:14}],tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogDetail:!1,ifAddDialog:!1,dialogForm:{terminalId:"",terminalName:"",terminalType:"",status:"",ip:"",mac:"",ActiveTime:"",description:"",appArr:[],containerArr:[]},dialogRules:{terminalId:[{required:!0,message:"请输入终端ID",trigger:"blur"}],terminalName:[{required:!0,message:"请输入终端名称",trigger:"blur"}],terminalType:[{required:!0,message:"请输入终端类型",trigger:"blur"}],status:[{required:!0,message:"请选择终端状态",trigger:"blur"}]},addSelectTitle:"已选容器",addTitle:"容器库",fileList:[{id:0,fileName:"软件名1",count:50,time:"2019年8月20日"},{id:1,fileName:"软件名2",count:50,time:"2019年8月20日"},{id:2,fileName:"软件名3",count:50,time:"2019年8月20日"},{id:3,fileName:"软件名4",count:50,time:"2019年8月20日"},{id:4,fileName:"软件名5",count:50,time:"2019年8月20日"},{id:5,fileName:"软件名6",count:50,time:"2019年8月20日"},{id:6,fileName:"软件名7",count:50,time:"2019年8月20日"}],fileSelectedList:[],searchFileItem:"",fileCurrentPage:1,filePageSize:10,fileTotal:0,fileParam:{current:1,size:5,sort:"id",dir:"asc"}}),mounted(){this.search(1),this.getMapData(),this.drawMap()},methods:{search(e){this.$axios.post("/admin/terminal/devices/info",{terminalId:this.searchItem.terminalId,name:this.searchItem.name,neType:this.searchItem.neType,pageSize:this.tableLimit,pageIndex:e}).then(e=>{this.tableSize=e.data.data.totalRecord,this.tableData=e.data.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},getMapData(){this.$axios.post("/admin/snapshoot/queryTerminalStatistic",{},{headers:{"Content-Type":"application/json"}}).then(e=>{e.data.success?(this.allDataArr[0].count=e.data.data.terminalNum_total,this.allDataArr[1].count=e.data.data.terminalNum_online,this.allDataArr[2].count=e.data.data.terminalNum_active,this.allDataArr[3].count=e.data.data.terminalNum_unconfirmed):this.$message({message:"查询失败",type:"error"})}).catch(e=>{console.log(e)})},drawMap(){let e=this.$echarts.init(document.getElementById("mapChart"));e.showLoading();let t=this.$echarts.getMap("china").geoJson.features;e.hideLoading(),t.forEach(function(e){let t=e.properties.name;b[t]=e.properties.cp});let a={tooltip:{padding:0,enterable:!0,transitionDuration:1,textStyle:{color:"#000",decoration:"none"},formatter:function(e){var t="";return void 0===e.value||Number.isNaN(e.value)?t='<div style="width:200px;height:80px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:90%;height:30px;line-height:30px;border-bottom:2px solid rgba(7,166,255,0.7);padding-left:15px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:14px;">'+e.name+'</span></div><div style="padding:15px 5px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>总数：<span style="color:#11ee7d;margin:0 6px;">---</span>个</p></div></div>':("object"==typeof e.value&&(e.value=e.value[2]),t='<div style="width:200px;height:80px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:90%;height:30px;line-height:30px;border-bottom:2px solid rgba(7,166,255,0.7);padding-left:15px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:14px;">'+e.name+'</span></div><div style="padding:15px 5px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>总数：<span style="color:#11ee7d;margin:0 6px;">'+e.value+"</span>个</p></div></div>"),t}},visualMap:{show:!0,min:0,max:200,left:"10%",top:"bottom",calculable:!0,seriesIndex:[1],inRange:{color:["#04387b","#467bc0"]}},geo:{show:!0,map:"china",zoom:1.2,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#023677",borderColor:"#1180c7"},emphasis:{areaColor:"#4499d0"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:this.convertData(this.mapData),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#fff"}}},{type:"map",map:"china",geoIndex:0,aspectScale:.85,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:this.mapData},{name:"点",type:"scatter",coordinateSystem:"geo",zlevel:6},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:this.convertData(this.mapData.sort(function(e,t){return t.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"left",show:!1}},itemStyle:{normal:{color:"yellow",shadowBlur:10,shadowColor:"yellow"}},zlevel:1}]};e.setOption(a),e.resize()},convertData(e){let t=[];for(let a=0;a<e.length;a++)if(void 0!==b[e[a].name]){let l=b[e[a].name];l&&t.push({name:e[a].name,value:l.concat(e[a].value)})}return t},detailRow(e){this.dialogTitle="终端详细信息",this.dialogForm=e,this.ifDialogDetail=!0,this.dialogFormVisible=!0},add(e){this.ifAddDialog=!1,this.dialogTitle="新增终端",this.ifDialogDetail=!1,this.dialogForm={},this.dialogFormVisible=!0},editRow(e){this.ifDialogDetail=!1,this.ifAddDialog=!1,this.dialogTitle="编辑终端",this.dialogForm=e,this.dialogFormVisible=!0},delRow(e){this.$confirm("是否确定删除该终端?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=[];t.push(e),this.$axios.delete("/admin/terminal/devices",{data:t}).then(e=>{e.data.success?(this.$message({type:"success",message:"删除成功!"}),this.search(1)):this.$message({message:"删除失败",type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},updateRow(e){},pairRow(e){this.$axios.put("/admin/terminal/devices/clocksyn/"+e.terminalId).then(e=>{e.data.success?this.$message({message:"对时成功",type:"success"}):this.$message({message:"对时失败",type:"error"})}).catch(e=>{console.log(e)})},importRows(){},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1){let t={headers:{"Content-Type":"application/json"}},a=[];a.push(this.dialogForm),this.$axios.post("/admin/terminal/devices",a,t).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)):this.$message({message:"失败",type:"error"})}).catch(e=>{console.log(e)})}else{var a=this.$qs.stringify(this.dialogForm);this.$axios.put("/admin/terminal/devices/"+this.dialogForm.terminalId+"?"+a).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"成功",type:"success"}),this.$refs[e].resetFields()):this.$message({message:"失败",type:"error"})}).catch(e=>{console.log(e)})}})},chooseFile(e){"app"===e?(this.addSelectTitle="已选应用",this.addTitle="应用库"):(this.addSelectTitle="已选容器",this.addTitle="容器库"),this.fileSelectedList=[],this.ifAddDialog=!0},submitFile(){let e="",t={};"应用库"===this.addTitle?(e="/admin/app/deploy?isUpdate=false",t=[{containerName:"string",esn:"string",name:"string",operateType:0,type:"string",vendor:"string",version:"string"}]):"容器库"===this.addTitle&&(e="/admin/containers/deploy,/upgrade",t={containerlist:[{containerInfo:{incrementPkg:!0,name:"string",releaseTime:0,releaseUser:"string",type:"string",vendor:"string",version:"string"},containerconfig:{containerName:"string",cpuCores:0,description:"string",diskSizeMB:"string",memoryMB:"string",openServices:"string",physicalInterfaces:"string",volumeSizeMB:"string"},deviceid:"string"}],update:!0}),this.$axios.post(e,t,{headers:{"Content-Type":"application/json"}}).then(e=>{e.data.success?(this.$message({message:"安装成功",type:"success"}),this.ifAddDialog=!1):this.$message({message:"安装失败",type:"error"})}).catch(e=>{console.log(e)})},handleClick(){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},searchFile(){},fileSizeChange(e){this.filePageSize=e,this.fileParam={current:1,size:e,sort:"id",dir:"asc"},this.searchFile("")},fileCurrentChange(e){this.fileParam={current:e,size:this.filePageSize,sort:"id",dir:"asc"},this.searchFile("")},handleSelectionChange(e){this.fileSelectedList=e},removeSelected(e){this.fileSelectedList.forEach((t,a)=>{t.id===e.id&&(this.fileSelectedList.splice(a,1),this.$refs.multipleTable.toggleRowSelection(t,!1))})},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},A={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"terminalManege"}},[l("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[l("el-tab-pane",{attrs:{label:"总览",name:"allView"}},[l("el-row",e._l(e.allDataArr,function(t,a){return l("el-col",{key:a,staticStyle:{margin:"0px 10px"},attrs:{span:5}},[l("el-card",{staticClass:"box-card allCard",attrs:{shadow:"hover","body-style":{padding:"15px"}}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(t.title))]),e._v(" "),l("span",{staticClass:"pull-right",class:t.color},[e._v(e._s(t.timeTitle))])]),e._v(" "),l("h1",[e._v(e._s(t.count))]),e._v(" "),l("small",[e._v(e._s(t.smallTitle))]),e._v(" "),l("div",{staticClass:"stat-percent",class:t.color},[e._v("\n              "+e._s(t.percent)+"\n              "),l("i",{class:t.icon})])])],1)}),1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:20,offset:2}},[l("div",{staticStyle:{height:"400px"},attrs:{id:"mapChart"}})])],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"详细列表",name:"detailView"}},[l("el-row",[l("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[l("el-form-item",{attrs:{label:"终端ID"}},[l("el-input",{attrs:{placeholder:"请输入终端ID"},model:{value:e.searchItem.terminalId,callback:function(t){e.$set(e.searchItem,"terminalId",t)},expression:"searchItem.terminalId"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"name",label:"设备名称"}},[l("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"neType",label:"设备类型"}},[l("el-input",{attrs:{placeholder:"请输入设备类型"},model:{value:e.searchItem.neType,callback:function(t){e.$set(e.searchItem,"neType",t)},expression:"searchItem.neType"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:22}},[l("div",[l("el-table",{staticClass:"terminalTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"terminalId",label:"终端ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.terminalId))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"terminalName",label:"终端名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"终端ip"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mac",label:"mac地址"}}),e._v(" "),l("el-table-column",{attrs:{prop:"terminalType",label:"设备类型"}}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"终端状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?l("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),1===t.row.status?l("span",{staticStyle:{color:"orange"}},[e._v("告警")]):e._e(),e._v(" "),2===t.row.status?l("span",{staticStyle:{color:"red"}},[e._v("故障")]):e._e(),e._v(" "),3===t.row.status?l("span",{staticStyle:{color:"gray"}},[e._v("离线")]):e._e(),e._v(" "),4===t.row.status?l("span",{staticStyle:{color:"#000"}},[e._v("未注册")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"vendor",label:"制造商"}}),e._v(" "),l("el-table-column",{attrs:{prop:"activeTime",width:"180",label:"激活时间"}}),e._v(" "),l("el-table-column",{attrs:{prop:"options",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.updateRow(t.row)}}},[e._v("升级")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.pairRow(t.row)}}},[e._v("对时")])]}}])})],1),e._v(" "),l("el-row",{staticStyle:{margin:"20px 0px"}},[l("el-button-group",{staticStyle:{float:"left"}},[l("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),l("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),l("el-upload",{staticStyle:{float:"left"},attrs:{action:"",limit:1}},[l("el-button",{attrs:{type:"warning",round:"",size:"small",icon:"el-icon-upload2"}},[e._v("批量导入")])],1),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)],1)],1),e._v(" "),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"75%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddDialog,expression:"!ifAddDialog"}]},[l("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"终端ID",prop:"terminalId"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.terminalId))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{placeholder:"请输入终端ID"},model:{value:e.dialogForm.terminalId,callback:function(t){e.$set(e.dialogForm,"terminalId",t)},expression:"dialogForm.terminalId"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"终端名称",prop:"terminalName"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.terminalName))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{placeholder:"请输入终端名称"},model:{value:e.dialogForm.terminalName,callback:function(t){e.$set(e.dialogForm,"terminalName",t)},expression:"dialogForm.terminalName"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"终端类型",prop:"terminalType"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.terminalType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{placeholder:"请输入终端类型"},model:{value:e.dialogForm.terminalType,callback:function(t){e.$set(e.dialogForm,"terminalType",t)},expression:"dialogForm.terminalType"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"终端状态",prop:"status"}},[e.ifDialogDetail&&0===e.dialogForm.status?l("span",[e._v("正常")]):e._e(),e._v(" "),e.ifDialogDetail&&1===e.dialogForm.status?l("span",[e._v("告警")]):e._e(),e._v(" "),e.ifDialogDetail&&2===e.dialogForm.status?l("span",[e._v("故障")]):e._e(),e._v(" "),e.ifDialogDetail&&3===e.dialogForm.status?l("span",[e._v("离线")]):e._e(),e._v(" "),e.ifDialogDetail&&4===e.dialogForm.status?l("span",[e._v("未注册")]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-radio",{attrs:{label:"0"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("正常")]),e._v(" "),e.ifDialogDetail?e._e():l("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("告警")]),e._v(" "),e.ifDialogDetail?e._e():l("el-radio",{attrs:{label:"2"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("故障")]),e._v(" "),e.ifDialogDetail?e._e():l("el-radio",{attrs:{label:"3"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("离线")]),e._v(" "),e.ifDialogDetail?e._e():l("el-radio",{attrs:{label:"4"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("未注册")])],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"终端ip"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.ip))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{placeholder:"请输入终端ip"},model:{value:e.dialogForm.ip,callback:function(t){e.$set(e.dialogForm,"ip",t)},expression:"dialogForm.ip"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"mac地址"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.mac))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{placeholder:"请输入mac地址"},model:{value:e.dialogForm.mac,callback:function(t){e.$set(e.dialogForm,"mac",t)},expression:"dialogForm.mac"}})],1)],1)],1),e._v(" "),l("el-row"),e._v(" "),e.ifDialogDetail?l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"终端时间"}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(e.dialogForm.ActiveTime))]),e._v(" "),l("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.pairRow(e.dialogForm)}}},[e._v("对时")])],1)],1)],1):e._e(),e._v(" "),l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"描述信息"}},[e.ifDialogDetail?l("span",[e._v(e._s(e.dialogForm.description))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():l("el-input",{attrs:{type:"textarea",placeholder:"请输入描述信息"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{staticStyle:{height:"100px"},attrs:{span:24}},[l("el-form-item",{staticClass:"lineHeight",attrs:{label:"容器"}},[l("div",{staticClass:"list"},[e._l(e.dialogForm.containerArr,function(t,a){return l("div",{key:a},[e._v("\n                  "+e._s(t)+"\n                  "),e.ifDialogDetail?e._e():l("el-button",{attrs:{type:"danger",plain:"",circle:"",size:"mini",icon:"el-icon-delete"}})],1)}),e._v(" "),e.ifDialogDetail?e._e():l("el-button",{attrs:{type:"primary",plain:"",circle:"",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.chooseFile("container")}}})],2)])],1)],1),e._v(" "),l("el-row",[l("el-col",{staticStyle:{height:"100px"},attrs:{span:24}},[l("el-form-item",{staticClass:"lineHeight",attrs:{label:"应用"}},[l("div",{staticClass:"list"},[e._l(e.dialogForm.appArr,function(t,a){return l("div",{key:a},[e._v("\n                  "+e._s(t)+"\n                  "),e.ifDialogDetail?e._e():l("el-button",{attrs:{type:"danger",plain:"",circle:"",size:"mini",icon:"el-icon-delete"}})],1)}),e._v(" "),e.ifDialogDetail?e._e():l("el-button",{attrs:{type:"primary",plain:"",circle:"",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.chooseFile("app")}}})],2)])],1)],1)],1)],1),e._v(" "),l("el-row",{directives:[{name:"show",rawName:"v-show",value:e.ifAddDialog,expression:"ifAddDialog"}]},[l("el-col",{attrs:{span:16,offset:1}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(e.addTitle))])]),e._v(" "),l("div",[l("el-container",[l("el-aside",{attrs:{width:"150px"}},[l("el-row",[l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose}},[l("el-submenu",{attrs:{index:"1"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-location"}),e._v(" "),l("span",[e._v("分类一")])]),e._v(" "),l("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")]),e._v(" "),l("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")]),e._v(" "),l("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],2),e._v(" "),l("el-menu-item",{attrs:{index:"2"}},[l("i",{staticClass:"el-icon-menu"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类二")])]),e._v(" "),l("el-menu-item",{attrs:{index:"3"}},[l("i",{staticClass:"el-icon-document"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类三")])]),e._v(" "),l("el-menu-item",{attrs:{index:"4"}},[l("i",{staticClass:"el-icon-setting"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类四")])])],1)],1)],1),e._v(" "),l("el-container",[l("el-header",[l("el-row",[l("el-col",{attrs:{span:16}},[l("el-input",{attrs:{placeholder:"请输入内容进行查询"},model:{value:e.searchFileItem,callback:function(t){e.searchFileItem=t},expression:"searchFileItem"}})],1),e._v(" "),l("el-col",{attrs:{span:2,offset:1}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchFile()}}},[e._v("搜索")])],1)],1)],1),e._v(" "),l("el-main",[l("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.fileList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{label:"排序",width:"60"}},[[l("img",{attrs:{src:a("KDfe"),height:"60",width:"100%"}})]],2),e._v(" "),l("el-table-column",{attrs:{prop:"fileName",label:"名称",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"count",label:"下载量",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"time",label:"上架时间",width:"180"}})],1)],1),e._v(" "),l("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[l("el-pagination",{attrs:{"current-page":e.fileCurrentPage,"page-sizes":[5,10,15],"page-size":e.filePageSize,layout:"total, prev, pager, next, jumper",total:e.fileTotal},on:{"size-change":e.fileSizeChange,"current-change":e.fileCurrentChange}})],1)],1)],1)],1)],1)])],1),e._v(" "),l("el-col",{attrs:{span:5,offset:1}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(e.addSelectTitle))])]),e._v(" "),l("div",[l("ul",e._l(e.fileSelectedList,function(t,a){return l("li",{key:a},[e._v("\n                "+e._s(t.fileName)+"\n                "),l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeSelected(t)}}},[l("i",{staticClass:"el-icon-close"})])],1)}),0)])])],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddDialog,expression:"!ifAddDialog"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddDialog,expression:"!ifAddDialog"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifAddDialog,expression:"ifAddDialog"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFile()}}},[e._v("安 装")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifAddDialog,expression:"ifAddDialog"}],on:{click:function(t){e.ifAddDialog=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var y=a("C7Lr")(_,A,!1,function(e){a("uPYm")},"data-v-7287a2e0",null).exports,w={name:"applicationManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{name:"",type:"",status:""},statusArr:{title:"请选择应用状态",options:[{value:"1",label:"在线"},{value:"0",label:"离线"}]},appTypeArr:{title:"请选择应用类型",options:[{value:"1",label:"类型1"},{value:"2",label:"类型2"},{value:"3",label:"类型3"}]},containerTypeArr:{title:"请选择容器类型",options:[{value:"1",label:"容器1"},{value:"2",label:"容器2"},{value:"3",label:"容器3"}]},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogDetail:!1,dialogForm:{name:"",type:"",factory:"",version:"",containerType:"",containerVersion:""},dialogRules:{name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择应用类型",trigger:"change"}],factory:[{required:!0,message:"请输入应用厂商",trigger:"change"}],version:[{required:!0,message:"请输入应用版本",trigger:"change"}],containerType:[{required:!0,message:"请输选择容器类型",trigger:"change"}],containerVersion:[{required:!0,message:"请输入容器版本",trigger:"change"}]}}),mounted(){this.search(1)},methods:{search(e){this.$axios.post("/admin/app/files?pageIndex="+e+"&pageSize="+this.tableLimit,{appInfo:this.searchItem},{headers:{"Content-Type":"application/json"}}).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.dialogTitle="新增应用",this.ifDialogDetail=!1,this.dialogForm={},this.dialogFormVisible=!0,this.$nextTick(()=>{this.$refs[e].resetFields()})},detailRow(e){this.dialogTitle="应用详细信息",this.ifDialogDetail=!0,this.dialogForm=e,this.dialogFormVisible=!0},editRow(e){this.dialogTitle="编辑应用",this.dialogForm=e,this.ifDialogDetail=!1,this.dialogFormVisible=!0},delRow(e){this.$confirm("是否确定删除该应用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;this.dialogFormVisible=!1,this.$message({message:"编辑成功",type:"success"}),this.$refs[e].resetFields()})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"applicationManage"}},[a("el-row",[a("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[a("el-form-item",{attrs:{label:"微应用名称"}},[a("el-input",{attrs:{placeholder:"请输入微应用名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属类型"}},[a("el-input",{attrs:{placeholder:"请输入类型"},model:{value:e.searchItem.type,callback:function(t){e.$set(e.searchItem,"type",t)},expression:"searchItem.type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用状态"}},[a("el-select",{attrs:{placeholder:e.statusArr.title},model:{value:e.searchItem.status,callback:function(t){e.$set(e.searchItem,"status",t)},expression:"searchItem.status"}},e._l(e.statusArr.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",[a("el-table",{staticClass:"applicationTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appName",width:"120",label:"应用名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"appType",label:"应用类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vendor",width:"150",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"应用版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appReleaseTime",width:"120",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerType",width:"120",label:"容器类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerVersion",label:"容器版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button",{attrs:{type:"primary",round:""}},[a("i",{staticClass:"el-icon-upload"}),e._v("同步容器")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"应用名称",prop:"name"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.name))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"应用类型",prop:"type"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.type))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.appTypeArr.title},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}},e._l(e.appTypeArr.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"应用厂商",prop:"factory"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.factory))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用厂商"},model:{value:e.dialogForm.factory,callback:function(t){e.$set(e.dialogForm,"factory",t)},expression:"dialogForm.factory"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"应用版本",prop:"version"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.version))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用版本"},model:{value:e.dialogForm.version,callback:function(t){e.$set(e.dialogForm,"version",t)},expression:"dialogForm.version"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"容器类型",prop:"containerType"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择容器类型"},model:{value:e.dialogForm.containerType,callback:function(t){e.$set(e.dialogForm,"containerType",t)},expression:"dialogForm.containerType"}},e._l(e.containerTypeArr.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"容器版本",prop:"containerVersion"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerVersion))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器版本"},model:{value:e.dialogForm.containerVersion,callback:function(t){e.$set(e.dialogForm,"containerVersion",t)},expression:"dialogForm.containerVersion"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var F=a("C7Lr")(w,x,!1,function(e){a("z5Hy")},"data-v-3f853195",null).exports,D={name:"containerManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{name:"",type:""},terminalArr:{title:"请选择终端",options:[{value:"1",label:"终端1"},{value:"2",label:"终端2"},{value:"3",label:"终端3"}]},statusArr:{title:"请选择容器状态",options:[{value:"0",label:"离线"},{value:"1",label:"在线"}]},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogDetail:!1,dialogForm:{containerId:"",containerName:"",containerType:"",isIncrementPkg:"",bseVersion:"",version:"",url:"",logo:"",description:""},dialogRules:{containerId:[{required:!0,message:"请输入容器ID",trigger:"blur"}],containerName:[{required:!0,message:"请输入容器名称",trigger:"blur"}],isIncrementPkg:[{required:!0,message:"请选择是否升级",trigger:"change"}]}}),mounted(){this.search(1)},methods:{search(e){let t={};t.name=this.searchItem.name,t.type=this.searchItem.type,this.$axios.post("/admin/containers/files",{condition:t,pageSize:this.tableLimit,pageIndex:e,sort:["desc"]},{headers:{"Content-Type":"application/json"}}).then(e=>{this.tableSize=e.data.totalRecord,this.tableData=e.data.data}).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.dialogTitle="新增容器",this.ifDialogDetail=!1,this.dialogForm={},this.dialogFormVisible=!0},detailRow(e){this.dialogTitle="容器详细信息",this.ifDialogDetail=!0,this.dialogForm=e,this.dialogFormVisible=!0},editRow(e){this.dialogTitle="编辑终端",this.ifDialogDetail=!1,this.dialogForm=e,this.dialogFormVisible=!0},delRow(e){this.$confirm("是否确定删除该容器?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;{let t={headers:{"Content-Type":"application/json"}};this.$axios.post("/admin/containers/add",this.dialogForm,t).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"添加成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)):this.$message({message:"添加失败",type:"error"})}).catch(e=>{console.log(e)})}})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"containerManage"}},[a("el-row",[a("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[a("el-form-item",{attrs:{label:"容器名称"}},[a("el-input",{attrs:{placeholder:"请输入容器名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"容器类型"}},[a("el-input",{attrs:{placeholder:"请输入容器类型"},model:{value:e.searchItem.type,callback:function(t){e.$set(e.searchItem,"type",t)},expression:"searchItem.type"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",[a("el-table",{staticClass:"containerTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerName",width:"150",label:"容器名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"containerType",label:"容器类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"releaseTime",width:"100",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"developer",label:"厂商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"容器版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bseVersion",label:"基础包版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isIncrementPkg",label:"是否升级包"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isIncrementPkg?a("span",[e._v("否")]):e._e(),e._v(" "),0===t.row.isIncrementPkg?a("span",[e._v("是")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",width:"150",label:"说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small"}},[a("i",{staticClass:"el-icon-upload"}),e._v("同步容器\n          ")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器ID",prop:"containerId"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerId))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器ID"},model:{value:e.dialogForm.containerId,callback:function(t){e.$set(e.dialogForm,"containerId",t)},expression:"dialogForm.containerId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器名称",prop:"containerName"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerName))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器名称"},model:{value:e.dialogForm.containerName,callback:function(t){e.$set(e.dialogForm,"containerName",t)},expression:"dialogForm.containerName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器类型"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器类型"},model:{value:e.dialogForm.containerType,callback:function(t){e.$set(e.dialogForm,"containerType",t)},expression:"dialogForm.containerType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.version))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器版本"},model:{value:e.dialogForm.version,callback:function(t){e.$set(e.dialogForm,"version",t)},expression:"dialogForm.version"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"基础包版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.bseVersion))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入基础包版本"},model:{value:e.dialogForm.bseVersion,callback:function(t){e.$set(e.dialogForm,"bseVersion",t)},expression:"dialogForm.bseVersion"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器url"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.url))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器url"},model:{value:e.dialogForm.url,callback:function(t){e.$set(e.dialogForm,"url",t)},expression:"dialogForm.url"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"是否升级包",prop:"isIncrementPkg"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.isIncrementPkg))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-radio",{attrs:{label:"0"},model:{value:e.dialogForm.isIncrementPkg,callback:function(t){e.$set(e.dialogForm,"isIncrementPkg",t)},expression:"dialogForm.isIncrementPkg"}},[e._v("否")]),e._v(" "),e.ifDialogDetail?e._e():a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.isIncrementPkg,callback:function(t){e.$set(e.dialogForm,"isIncrementPkg",t)},expression:"dialogForm.isIncrementPkg"}},[e._v("是")])],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"100px"},attrs:{span:24}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"简要说明"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.description))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{staticStyle:{height:"100px"},attrs:{type:"textarea"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var k=a("C7Lr")(D,C,!1,function(e){a("DhVm")},"data-v-f4066ece",null).exports,S={name:"appList",data:()=>({activeTab:"appList",menuId:"",username:null,commonSearch:"",testScore:3.8,areaTypeList:[{id:0,name:"工业1"},{id:1,name:"工业2"},{id:2,name:"工业3"},{id:3,name:"工业4"}],developersList:[{id:0,name:"开发商a"},{id:1,name:"开发商b"},{id:2,name:"开发商c"},{id:3,name:"开发商d"}],levelList:[{id:0,name:"一级"},{id:1,name:"二级"},{id:2,name:"三级"},{id:3,name:"四级"}],appList:[{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10}],currentPage:1,pageSize:10,total:0,fileCurrentPage:1,filePageSize:10,fileTotal:0,active:-1,active_b:-1,active_c:-1,param:{current:1,size:5,sort:"id",dir:"asc"},fileParam:{current:1,size:5,sort:"id",dir:"asc"},searchFileItem:"",fileList:[]}),mounted(){this.initPage(),this.searchFile(1)},methods:{getAreaType(){this.$axios.get("").then(e=>{e.data.data.length>0&&(this.areaTypeList=e.data.data)}).catch(e=>{console.log(e)})},getIndustryType(){this.$axios.get("").then(e=>{e.data.data.length>0&&(this.developersList=e.data.data)}).catch(e=>{console.log(e)})},getPayType(){this.$axios.get("").then(e=>{e.data.data.length>0&&(this.levelList=e.data.data)}).catch(e=>{console.log(e)})},getSoft(e,t){this.active=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post("",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},getSoft_b(e,t){this.active_b=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post("",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},getSoft_c(e,t){this.active_c=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post("",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},initPage(){this.total=this.appList.length},handleSizeChange(e){this.pageSize=e,this.param={current:1,size:e,sort:"id",dir:"asc"},this.getSoft("")},handleCurrentChange(e){this.param={current:e,size:this.pageSize,sort:"id",dir:"asc"},this.getSoft("")},handleClick(){},toDetail(e){this.$emit("getObj",e)},downSoft(e){if(null===sessionStorage.getItem("username"))this.$message({message:"请登录用户,进行获取",type:"warning"});else{let t={username:sessionStorage.getItem("username"),softId:e};this.$axios.get("/soft-auth/soft-order",{params:t}).then(e=>{this.$message({message:"已成功获取该服务",type:"success"}),this.getSoft("")}).catch(e=>{console.log(e)})}},searchFile(e){let t={pageIndex:e,pageSize:this.filePageSize};""!==this.searchFileItem&&(t.fileId=this.searchFileItem),this.$axios.get("/admin/file/list?"+this.$qs.stringify(t)).then(e=>{this.fileTotal=e.data.data.total,this.fileList=e.data.data.records}).catch(e=>{})},fileSizeChange(e){this.filePageSize=e,this.searchFile(1)},fileCurrentChange(e){this.searchFile(e)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},I={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"appList"}},[l("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[l("el-tab-pane",{attrs:{label:"应用商店",name:"appList"}},[l("el-row",{staticClass:"searchTypes"},[l("el-row",[l("el-col",{attrs:{span:22,offset:1}},[l("el-card",{staticClass:"box-card"},[l("el-row",{staticClass:"type"},[l("el-col",{attrs:{span:3}},[l("span",[e._v("领域分类：")])]),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.areaTypeList,function(t,a){return l("el-col",{key:a,attrs:{span:3}},[l("el-button",{class:{active:e.active==a},attrs:{type:"text"},on:{click:function(l){return e.getSoft(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2),e._v(" "),l("el-row",{staticClass:"type"},[l("el-col",{attrs:{span:3}},[l("span",[e._v("开发商：")])]),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.developersList,function(t,a){return l("el-col",{key:a,attrs:{span:3}},[l("el-button",{class:{active:e.active_b==a},attrs:{type:"text"},on:{click:function(l){return e.getSoft_b(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2),e._v(" "),l("el-row",{staticClass:"type"},[l("el-col",{attrs:{span:3}},[l("span",[e._v("应用级别：")])]),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.levelList,function(t,a){return l("el-col",{key:a,attrs:{span:3}},[l("el-button",{class:{active:e.active_c==a},attrs:{type:"text"},on:{click:function(l){return e.getSoft_c(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2)],1)],1)],1)],1),e._v(" "),l("el-row",{staticClass:"searchTables"},[l("el-col",{attrs:{span:22,offset:1}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",staticStyle:{height:"50px"},attrs:{slot:"header"},slot:"header"},[l("el-col",{attrs:{span:2,offset:1}},[l("span",[e._v("排序：")])]),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("默认")])],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  下载量\n                  "),l("i",{staticClass:"el-icon-top"})])],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  上架时间\n                  "),l("i",{staticClass:"el-icon-top"})])],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  评分\n                  "),l("i",{staticClass:"el-icon-top"})])],1)],1),e._v(" "),l("div",{staticClass:"softContent"},[e._l(e.appList,function(t,i){return l("div",{key:i},[l("el-row",[l("el-col",{staticClass:"softImg",attrs:{span:2}},[l("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:function(a){return e.toDetail(t)}}},[""===t.softIcon||null===t.softIcon||void 0===t.softIcon?l("img",{attrs:{src:a("KDfe"),height:"80",width:"80"}}):e._e(),e._v(" "),""!==t.softIcon&&null!==t.softIcon&&void 0!==t.softIcon?l("img",{attrs:{src:"data:image/jpg;base64,"+t.softIcon,height:"80",width:"80"}}):e._e()])],1),e._v(" "),l("el-col",{staticClass:"softInfo",attrs:{span:5,offset:1}},["1"!==t.softCategory3Id?l("el-row",[null!==e.username?l("div",{staticStyle:{cursor:"pointer"}},[l("h3",{staticClass:"appName"},[e._v(e._s(t.appName))])]):e._e(),e._v(" "),null===e.username?l("div",[l("h3",{staticClass:"appName"},[e._v(e._s(t.appName))])]):e._e()]):e._e(),e._v(" "),l("el-row",{staticStyle:{"margin-top":"20px"}},[l("span",{staticClass:"company"},[e._v("开发商："+e._s(t.creator))])])],1),e._v(" "),l("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:6,offset:1}},[l("el-row",[l("el-col",{attrs:{span:6}},[e._v("评分：")]),e._v(" "),l("el-col",{attrs:{span:16}},[l("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.testScore,callback:function(t){e.testScore=t},expression:"testScore"}})],1)],1),e._v(" "),l("el-row",{staticStyle:{"margin-top":"15px"}},[l("span",{staticClass:"downCount"},[e._v("下载量"+e._s(t.downCount)+"件")])])],1),e._v(" "),l("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:3,offset:1}},["true"===t.auth?l("el-row",[l("el-button",{attrs:{type:"button",size:"medium",disabled:""}},[e._v("已获取")])],1):e._e(),e._v(" "),"false"===t.auth||void 0===t.auth?l("el-row",[l("el-button",{attrs:{type:"button",size:"medium"},on:{click:function(a){return e.downSoft(t.id)}}},[e._v("点击获取")])],1):e._e()],1)],1),e._v(" "),l("el-divider")],1)}),e._v(" "),l("el-row",{staticStyle:{"text-align":"center"}},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15],"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],2)])],1)],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"本地文件库",name:"fileList"}},[l("el-container",[l("el-aside",{attrs:{width:"200px"}},[l("el-row",[l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose}},[l("el-submenu",{attrs:{index:"1"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-location"}),e._v(" "),l("span",[e._v("分类一")])]),e._v(" "),l("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")]),e._v(" "),l("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")]),e._v(" "),l("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],2),e._v(" "),l("el-menu-item",{attrs:{index:"2"}},[l("i",{staticClass:"el-icon-menu"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类二")])]),e._v(" "),l("el-menu-item",{attrs:{index:"3"}},[l("i",{staticClass:"el-icon-document"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类三")])]),e._v(" "),l("el-menu-item",{attrs:{index:"4"}},[l("i",{staticClass:"el-icon-setting"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类四")])])],1)],1)],1),e._v(" "),l("el-container",[l("el-header",[l("el-row",[l("el-col",{attrs:{span:16}},[l("el-input",{attrs:{placeholder:"请输入文件ID"},model:{value:e.searchFileItem,callback:function(t){e.searchFileItem=t},expression:"searchFileItem"}})],1),e._v(" "),l("el-col",{attrs:{span:2,offset:1}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchFile(1)}}},[e._v("搜索")])],1)],1)],1),e._v(" "),l("el-main",[l("el-row",{staticStyle:{"max-height":"500px"}},[e._l(e.fileList,function(t,i){return l("el-col",{key:i,staticStyle:{padding:"5px"},attrs:{span:4,offset:1}},[l("el-card",{staticClass:"box-card fileCard",attrs:{"body-style":{padding:"10px"}}},[l("el-row",[l("img",{attrs:{src:a("KDfe"),height:"100%",width:"100%"}})]),e._v(" "),l("el-row",[l("h5",[e._v(e._s(t.fileName))])]),e._v(" "),l("el-row",[l("el-col",{attrs:{span:11,offset:13}},[l("el-button",{attrs:{type:"text"}},[l("i",{staticClass:"el-icon-download"})]),e._v(" "),l("el-button",{attrs:{type:"text"}},[l("i",{staticClass:"el-icon-delete-solid"})])],1)],1)],1)],1)}),e._v(" "),l("el-col",{staticStyle:{padding:"5px"},attrs:{span:4,offset:1}},[l("el-card",{staticClass:"box-card fileCard",attrs:{"body-style":{padding:"30px"}}},[l("el-row",{staticStyle:{height:"80px","text-align":"center"}},[l("el-upload",{attrs:{action:"",limit:1}},[l("el-button",{attrs:{type:"text"}},[l("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"50px"}})])],1)],1),e._v(" "),l("el-row",[l("h5",[e._v("添加新服务")])])],1)],1)],2),e._v(" "),l("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[l("el-pagination",{attrs:{"current-page":e.fileCurrentPage,"page-sizes":[5,10,15],"page-size":e.filePageSize,layout:"total, prev, pager, next, jumper",total:e.fileTotal},on:{"size-change":e.fileSizeChange,"current-change":e.fileCurrentChange}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var z=a("C7Lr")(S,I,!1,function(e){a("VGgq")},"data-v-2557278c",null).exports,T={name:"alarmPush",data:()=>({alarmSize:0,alarmLimit:10,searchItem:{esn:"",level:"",time:""},levelArr:{title:"请选择危险等级",options:[{value:"1",label:"一级"},{value:"2",label:"二级"},{value:"3",label:"三级"}]},alarmList:[{name:"报警名称",level:"1",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"2",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"3",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"4",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"1",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"2",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"4",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"}],dialogForm:{name:"报警名称",esn:"ESN设备",time:"2019年8月15日 17:30:13",level:"一级",content:"报警详细内容"},dialogFormVisible:!1}),mounted(){this.alarmSize=this.alarmList.length},methods:{search(e){},reset(e){this.$refs[e].resetFields()},showDetail(e){this.dialogForm=e,this.dialogFormVisible=!0},handleSizeChange(e){this.alarmLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"alarmPush"}},[a("el-row",[a("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[a("el-form-item",{attrs:{label:"设备ESN"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备ESN"},model:{value:e.searchItem.terminalId,callback:function(t){e.$set(e.searchItem,"terminalId",t)},expression:"searchItem.terminalId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"危险等级"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:e.levelArr.title},model:{value:e.searchItem.level,callback:function(t){e.$set(e.searchItem,"level",t)},expression:"searchItem.level"}},e._l(e.levelArr.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"告警时间"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchItem.time,callback:function(t){e.$set(e.searchItem,"time",t)},expression:"searchItem.time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",{staticStyle:{"max-height":"500px",overflow:"auto"}},e._l(e.alarmList,function(t,l){return a("el-row",{key:l,staticClass:"alarmRow",class:"level"+t.level},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showDetail(t)}}},[a("h4",[e._v(e._s(t.name))])])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v(e._s(t.content))])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("span",[e._v("报警等级："+e._s(t.level))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("span",[e._v("设备Esn："+e._s(t.esn))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("span",[e._v("告警时间："+e._s(t.time))])])],1)}),1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.alarmLimit,layout:"total, sizes, prev, pager, next",total:e.alarmSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"告警信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"告警名称"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.name))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"ESN设备"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.esn))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警时间"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.time))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警等级"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.level))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警信息"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.content))])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},staticRenderFns:[]};var R=a("C7Lr")(T,$,!1,function(e){a("dLbT")},"data-v-864c6b4e",null).exports,N={name:"userManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{userName:"",tenantId:""},orgArr:{title:"请选择所属机构",options:[{value:"1",label:"机构一"},{value:"2",label:"机构二"}]},tenantArr:{title:"请选择租户级别",options:[{value:"1",label:"一级"},{value:"2",label:"二级"}]},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,dialogForm:{username:"",passwd:"",tenantid:"",usertype:"",status:""},dialogRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"change"}],tenantid:[{required:!0,message:"请输入租户ID",trigger:"change"}],usertype:[{required:!0,message:"请选择用户类型",trigger:"change"}],status:[{required:!0,message:"请选择用户状态",trigger:"change"}]},ifUpdate:!1}),mounted(){this.search(1)},methods:{search(e){let t={};t.pageSize=this.tableLimit,t.pageIndex=e,""!==this.searchItem.userName&&(t.userName=this.searchItem.userName),""!==this.searchItem.tenantId&&(t.tenantId=this.searchItem.tenantId),this.$axios.get("/admin/user/list?"+this.$qs.stringify(t)).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$nextTick(()=>{this.$refs[e].resetFields()})},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.dialogTitle="新增用户",this.dialogFormVisible=!0,this.$nextTick(()=>{this.$refs[e].resetFields()})},editRow(e){this.dialogTitle="编辑用户",this.dialogForm=e,this.ifUpdate=!0,this.dialogFormVisible=!0},delRow(e){console.info(e),this.$confirm("是否确定删除该租户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.delete("/admin/user/remove?userId="+e.uid).then(e=>{this.$message({type:"success",message:"删除成功!"}),this.search(1)}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1)this.$axios.post("/admin/user/save?"+this.$qs.stringify(this.dialogForm)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"成功添加",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)});else{let t={};Object.keys(this.dialogForm).forEach(e=>{"createTime"!==e&&"deleteTime"!==e&&(t[e]=this.dialogForm[e])}),this.$axios.put("/admin/user/update?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"修改成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}})},resetPwd(e){},disableUser(e){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userManage"}},[a("el-row",[a("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.searchItem.userName,callback:function(t){e.$set(e.searchItem,"userName",t)},expression:"searchItem.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"租户ID"}},[a("el-input",{attrs:{placeholder:"请输入租户ID"},model:{value:e.searchItem.tenantId,callback:function(t){e.$set(e.searchItem,"tenantId",t)},expression:"searchItem.tenantId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",[a("el-table",{staticClass:"userTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"username",width:"120",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usertype",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.usertype?a("span",[e._v("管理员")]):e._e(),e._v(" "),0===t.row.usertype?a("span",[e._v("普通")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantid",label:"上级租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),8===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("停用")]):e._e(),e._v(" "),9===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"options",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.disableUser(t.row)}}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.resetPwd(t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[a("el-col",{attrs:{span:15}},[e.ifUpdate?e._e():a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.dialogForm.username,callback:function(t){e.$set(e.dialogForm,"username",t)},expression:"dialogForm.username"}}),e._v(" "),e.ifUpdate?a("span",[e._v(e._s(e.dialogForm.username))]):e._e()],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"passwd"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.dialogForm.passwd,callback:function(t){e.$set(e.dialogForm,"passwd",t)},expression:"dialogForm.passwd"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户ID:",prop:"tenantid"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户ID"},model:{value:e.dialogForm.tenantid,callback:function(t){e.$set(e.dialogForm,"tenantid",t)},expression:"dialogForm.tenantid"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户类型",prop:"usertype"}},[a("el-col",{attrs:{span:15}},[a("el-radio",{attrs:{label:"0"},model:{value:e.dialogForm.usertype,callback:function(t){e.$set(e.dialogForm,"usertype",t)},expression:"dialogForm.usertype"}},[e._v("普通")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.usertype,callback:function(t){e.$set(e.dialogForm,"usertype",t)},expression:"dialogForm.usertype"}},[e._v("管理员")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("停用")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("删除")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var L=a("C7Lr")(N,B,!1,function(e){a("pFcx")},"data-v-779e7039",null).exports,M={name:"userManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],orgArr:{title:"请选择所属机构",options:[{value:"1",label:"机构一"},{value:"2",label:"机构二"}]},tenantArr:{title:"请选择租户级别",options:[{value:"1",label:"一级"},{value:"2",label:"二级"}]},tableData:[],areaData:[],ifAreaChild:!1,selectedOrg:"",dialogTitle:"新增",dialogFormVisible:!1,dialogForm:{tenantName:"",status:""},dialogRules:{tenantName:[{required:!0,message:"请输入租户名称",trigger:"blur"}],status:[{required:!0,message:"请选择租户状态",trigger:"blur"}]},userSelectedList:[{id:0,username:"用户1",time:"2019年8月20日"},{id:1,username:"用户2",time:"2019年8月20日"},{id:2,username:"用户3",time:"2019年8月20日"}],dialogAddUser:!1,searchUserItem:"",dialogCurrentPage:1,dialogPageSize:10,dialogTotal:0,dialogParam:{current:1,size:5,sort:"id",dir:"asc"}}),mounted(){this.search(1)},methods:{search(e){this.$axios.get("/admin/tenant/list",{pageSize:this.tableLimit,pageIndex:e}).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records,this.areaData=[],this.tableData.forEach(e=>{let t={};t.index=e.tenantId,t.name=e.tenantName,t.children,this.areaData.push(t)})}).catch(e=>{console.log(e)})},reset(e){this.$nextTick(()=>{this.$refs[e].resetFields()})},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){""===this.selectedOrg?this.$message({message:"请先选择上级租户",type:"warning"}):(this.dialogTitle="新增租户",this.dialogFormVisible=!0,this.$nextTick(()=>{this.$refs[e].resetFields()}))},editRow(){""===this.selectedOrg?this.$message({message:"请先选择上级租户",type:"warning"}):1===this.selectedRow.length?(this.dialogTitle="编辑租户",this.dialogForm=this.selectedRow[0],this.dialogFormVisible=!0):this.$message({message:"请选择单条数据进行操作",type:"warning"})},delRow(){1===this.selectedRow.length?this.$confirm("是否确定删除该租户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.delete("/admin/tenant/remove?tenantId="+this.selectedRow[0].tenantId).then(e=>{this.$message({type:"success",message:"删除成功!"}),this.search(1)}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请选择单条数据进行操作",type:"warning"})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1){let t={};t.parentId=this.selectedOrg,Object.keys(this.dialogForm).forEach(e=>{t[e]=this.dialogForm[e]}),this.$axios.post("/admin/tenant/save?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"成功添加",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}else{let t={};t.parentId=this.selectedOrg,Object.keys(this.dialogForm).forEach(e=>{"tenantId"!==e&&"tenantName"!==e&&"status"!==e&&"description"!==e||(t[e]=this.dialogForm[e])}),this.$axios.put("/admin/tenant/update?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"修改成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}})},orgSelect(e,t){this.selectedOrg=e,t.length>1?this.ifAreaChild=!0:this.ifAreaChild=!1},removeRow(){},addUserDialog(){1===this.selectedRow.length?this.dialogAddUser=!0:this.$message({message:"请选择单条数据进行操作",type:"warning"})},searchUser(){},submitAddUser(){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},dialogSizeChange(e){this.dialogPageSize=e,this.dialogParam={current:1,size:e,sort:"id",dir:"asc"},this.searchFile("")},dialogCurrentChange(e){this.dialogParam={current:e,size:this.dialogPageSize,sort:"id",dir:"asc"},this.searchFile("")},dialogSelectionChange(){},handleOpen(e,t){console.log(e)},handleClose(e,t){console.log(e,t)}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userManage"}},[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-row",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose,select:e.orgSelect}},e._l(e.areaData,function(t,l){return a("div",{key:l},[t.child?e._e():a("el-menu-item",{attrs:{index:t.index}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),t.child?a("el-submenu",{attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.child,function(t,l){return a("el-menu-item",{key:l,attrs:{index:t.index}},[e._v(e._s(t.name))])})],2):e._e()],1)}),0)],1)],1),e._v(" "),a("el-main",[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAreaChild,expression:"!ifAreaChild"}],attrs:{type:"primary",round:""},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新建子租户")])],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.editRow("dialogForm")}}},[e._v("变更租户名")])],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"danger",round:""},on:{click:function(t){return e.delRow()}}},[e._v("删除当前租户")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",[a("el-table",{staticClass:"userTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantName",width:"120",label:"租户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentId",label:"上级租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"租户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),8===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("停用")]):e._e(),e._v(" "),9===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.removeRow(t.row)}}},[e._v("移出本租户")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.addUserDialog()}}},[e._v("添加用户")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"租户名称",prop:"name"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户名称"},model:{value:e.dialogForm.tenantName,callback:function(t){e.$set(e.dialogForm,"tenantName",t)},expression:"dialogForm.tenantName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户状态",prop:"status"}},[a("el-col",{attrs:{span:15}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("停用")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("删除")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户描述"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户描述"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogAddUser,width:"65%"},on:{"update:visible":function(t){e.dialogAddUser=t}}},[a("el-row",[a("el-col",{attrs:{span:16,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户池")])]),e._v(" "),a("div",[a("el-container",[a("el-header",[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入内容进行查询"},model:{value:e.searchUserItem,callback:function(t){e.searchUserItem=t},expression:"searchUserItem"}})],1),e._v(" "),a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchUser()}}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-main",[a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.dialogSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期",width:"180"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.dialogCurrentPage,"page-sizes":[5,10,15],"page-size":e.dialogPageSize,layout:"total, prev, pager, next, jumper",total:e.dialogTotal},on:{"size-change":e.dialogSizeChange,"current-change":e.dialogCurrentChange}})],1)],1)],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已选用户")])]),e._v(" "),a("div",[a("ul",e._l(e.userSelectedList,function(t,l){return a("li",{key:l},[e._v("\n                "+e._s(t.username)+"\n                "),a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-close"})])],1)}),0)])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddUser()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddUser=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var P=a("C7Lr")(M,E,!1,function(e){a("nppr")},"data-v-186d35d7",null).exports,Q={name:"terminalManege",data:()=>({allDataArr:[{title:"一级租户数",timeTitle:"当前",smallTitle:"下属一级租户总数",count:"23",percent:"98%",icon:"fa fa-long-arrow-up",color:"blue"},{title:"二级租户数",timeTitle:"当前",smallTitle:"下属二级租户总数",count:"35",percent:"98%",icon:"fa fa-long-arrow-up",color:"green"},{title:"用户数",timeTitle:"月",smallTitle:"当前网省用户总数",count:"3,956",percent:"98%",icon:"fa fa-long-arrow-up",color:"greenAll"},{title:"新增用户数",timeTitle:"当前",smallTitle:"月度新增用户数",count:"20",percent:"98%",icon:"fa fa-long-arrow-up",color:"orange"}],treeData:{name:"xxx网省公司",children:[{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"}]},{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"},{name:"xxx县级公司3"},{name:"xxx县级公司4"},{name:"xxx县级公司5"},{name:"xxx县级公司6"}]},{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"}]}]}}),mounted(){this.drawTree()},methods:{drawTree(){let e=this.$echarts.init(document.getElementById("treeChart")),t={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[this.treeData],top:"8%",symbol:"emptyCircle",orient:"vertical",expandAndCollapse:!0,label:{normal:{position:"top",rotate:0,verticalAlign:"middle",align:"center",fontSize:19}},leaves:{label:{normal:{position:"bottom",rotate:-90,verticalAlign:"middle",align:"left"}}},animationDurationUpdate:750}]};e.setOption(t),e.resize()}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userOverview"}},[a("el-row",e._l(e.allDataArr,function(t,l){return a("el-col",{key:l,staticStyle:{margin:"0px 10px"},attrs:{span:5}},[a("el-card",{staticClass:"box-card allCard",attrs:{shadow:"hover","body-style":{padding:"15px"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"pull-right",class:t.color},[e._v(e._s(t.timeTitle))])]),e._v(" "),a("h1",[e._v(e._s(t.count))]),e._v(" "),a("small",[e._v(e._s(t.smallTitle))]),e._v(" "),a("div",{staticClass:"stat-percent",class:t.color},[e._v("\n            "+e._s(t.percent)+"\n            "),a("i",{class:t.icon})])])],1)}),1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticStyle:{height:"800px"},attrs:{id:"treeChart"}})])],1)],1)},staticRenderFns:[]};var V=a("C7Lr")(Q,O,!1,function(e){a("a07s")},"data-v-7e803879",null).exports;s.default.use(n.a);var G=new n.a({routes:[{path:"/",name:"main",component:m,children:[{path:"",name:"terminalManege",component:y,meta:{}},{path:"applicationManege",name:"applicationManege",component:F},{path:"containerManege",name:"containerManege",component:k},{path:"appList",name:"appList",component:z},{path:"alarmPush",name:"alarmPush",component:R},{path:"userManage",name:"userManage",component:L},{path:"tenantManage",name:"tenantManage",component:P},{path:"userOverview",name:"userOverview",component:V}]},{path:"/login",name:"loginPage",component:g},{path:"/register",name:"registerPage",component:f}]}),q=a("ARhN"),H=a.n(q),U=a("84iU"),K=a.n(U),j=a("gBzA"),J=a.n(j);a("HBSQ");s.default.prototype.$axios=K.a,s.default.prototype.$qs=J.a,s.default.config.productionTip=!1,K.a.defaults.baseURL="/api",K.a.defaults.timeout=3e5,K.a.interceptors.request.use(e=>{let t=sessionStorage.getItem("userToken");return t&&(e.headers.Authorization=t),"application/json"===e.headers["Content-Type"]?e:"/stock-in-register/import"==e.url||"/soft-detail/create"===e.url||"/soft-detail/update"===e.url||"/soft-standBook/import"===e.url||"/stock-in-register/single-register"==e.url?e:("post"==e.method&&(e.data=J.a.stringify(e.data)),e)},e=>Promise.reject(e)),K.a.interceptors.response.use(e=>(12===e.data.code&&G.replace({path:"/"}),e),e=>{}),s.default.use(i.a),s.default.prototype.$echarts=H.a,s.default.prototype.$goRoute=function(e){this.$router.push(e)},window.eventBus=new s.default,new s.default({el:"#app",router:G,components:{App:o},template:"<App/>"})},Rqpy:function(e,t){},VGgq:function(e,t){},a07s:function(e,t){},dLbT:function(e,t){},"dLd/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgEAAAIBCAMAAADnOJxTAAABGlBMVEVHcEzn7u5+nZrM1tXM6eS/xMTv9fV8qaTg8fDZ9fH5+/vBxcbq8fHO3Nr+///Z8u/2+fn////8/f3z9/cVbGZSjodSf3msyMHJ7ebS39+/z9EbVVL4+vqYs7Cz4dfN7OemxLzH7ef////G2Nvg6+rBwMLb5+bX4+OLwLcWPkLa5uV5oZ5RcHczd2rBy8qQurX1+Pe0urtvkIy/urfv9PTGyMWewL+i39jG29mRtK1jwrpYh4HDyMwAZ2N7iZLM2tpvgob5+/v9/f34+vr9/f2TpKR4fYDg4+N7lJL////+///9/f37/f35+/v+//+0zs2uxcTC1NO/0dGhu7iZr6y5y8rx9vWYubZfhIaIqqjs8/Pf5eWxxMKnxcRZt9EDAAAASXRSTlMA+QMcCTD5AQMG/Cn5Ff0N+vj9+TQUCgYf/DAR+w8/FlQc7xL6Lfr7FR/6/SkHLCX64qQ7+SZhK9pyNMTbPpP9QNrk2ejtmNn9JeNoqwAADplJREFUeNrsnXl3FDcWR58dk3Y7xuwQlgMDIcnJMhOSYfZ9nwc2ZM+s3/9rDAwBbHctkkqqkt679z84vVTp3fo9SdXuFgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYmCuXf3P58i+vMBCO2b758fqd3+8wECDbH3+wYhRcc+3qzQ9ubjMOAAAAAAAAAAAAAAAAAAAAbaIdMCpOC48KVL5fhSgZ1oyzqerHB8LblxlsW7WPFuHcW1cZ9JbKf+xBkisM6ASV137qazC4Tdc/z0sxwu5W+UjQcv2LvTKjXX31Z3gPRr1eAZp/HyhdlfWFFw++9Ob+1tb+m5fO710MfgUkqLn+44/fDd0vIAjaq3+eLYPA8iLBTKy2S+Rxjh1hgqDRq//5U/dy3RfAgToEmLxrkG4BObB8/Wcrf5AFlKby61+K3CdGgUau/5IfF8ABbwJsvjkOVB7/mev/zy9ukQM1Xf9nd+YVoPsoUGC2+p/8P9G//XW9RP0HJaBeswggL27wfHpmMQFwYNH6v/zvP488d6tg/T+63n1MKFBIgI7//bsumQC9h4UDpev/8v++0aXLPyABtSsvwMgwdxbrH0fz5QDlK9oA0gSYJwhwYKYAGPzrTq3BABTIW//kD3Mdd+awpALKbKDkElDDP5vTXaIvtPj+gO6iQCLXxhtA+Kc09XzfVTrnqoBWkHkGML0HzDE5YDKQVYCs9dfZZodMBmYQINqAL1XmNwAFitV/SIBbo98ZUZgPlR3C4gJodA9YbJsYBdIEGKlp5QLofsdsgNomJsCkv+tboAcwH8ybAJotAZbcJsaBvAJU3wN6FaDCWeo/IMA3FSVA92yGKsdMAWL/qruuHkAjKJUA/QJsVScAnaCEAC1FAAoElz9DAgw+XhUFXCfAogagQIQAut5JFeBhlS2gZ3JLxfsS4Nz63EjJ2kuAAAWueS38bs+oqDkBuhQ4OHb820RAoADtGqAbh9p1LTAJTBXgw0EBblUgwPUNBwQF4hOg4QhgOpgjATSu/i8FeBMFXCdANRGgw30AAWTzL0KmRcDIRgEpUGMPUNsRsKkA5Y+of2oEKAoYSQAjBjAX8C4AKdC7DMgrQMUGkAJpCaBmBECBOXpA3QYoBkTuBKXPAva0hRRwbEC4AJoiQK0RQB/Y2AtME0D1ae+Dd6uOgFMO3PdXfom9VKMnAbtVR8Dxc9/XRw5DIDqrk3pA1Qa8OMpnov7JZR+YxwBVbSAFDlQPD70pEL1gS1oJVm7ApdfH+cRbCMTXyWATOD4C3zrrAwkXqsEIOPYZJm+7Aimbdh0vc6H5CDgtK5OAyB7wVfsCON0azGOAWogAnzcI8vQAC7MApykw1zQQA1q4IaREwOnBoAdMNUCaNcDJekDnioCGDPAVAilB7cUAFyGQKQKGH7xuTABXCsxigDRngJ8+kCKAJwMEA7LNAhozwEsIJK3XPUSAPlAXIZDUA9RFBDgJgSQBOkbj/5+oMRUBqltDIbAiAqw3geEQuHPF7R2hngiw2AROKXDihM9+snIcAREGfN50BAyFwK5nATQ8AvYvtG2A9eXAibNUmoC75UC2CDA6D7QfAtlmAZYNUMshkNQCfDUB2yEwaxOwYYASAf6agOU2gAExZ6z2FNBsBphuAoZnAomzAAwgAjZeact2E7CqwBwRgAEGI0CTBGjcAJMKpEYABhAB3uaBx8/EkAIY4D0EUgXAAAwIFuB9SwaY2xpOngdGGLAn9gwQDNCkJoABrAVRwGEEYIDFeaC6FcCYAhjg3IDk7SDHTeDV0saOAUwDJmwJYECUALYMsKBAugCuDXiCAc4N+J2dnWEMcH5vIKMALg0QDHBrgNozQGkCHtsABjhvAxOagHsDFAMwwJYBUwWQPQxwboDnDFCaQLAA7xECTAMwAAOMG3DNxTQAA05cOyeGYneFAe4MODkcP2xKgEwGqEMD+trA6goR4NsA+QQDeh9qqf5f9xrwMwxwYcB//tA3FbyDAS4M6J0Krs5hgG8DXOwHJS4FjBlwgAGuDRC9Z8cAxYCEIbj3xz4DVhjgwACRcz/uWwyQAT4MEDsGTBYgdClg7LPit8+1PRHAgIkGrH7wdtMG5GwC7rYDXpwOBvidBnxvwF0McGrA96dz4w0M8G3AnRsY4NKA1+fzLga4XAq8Pp8zGODRANkwQDDAqQErDHBowInzebfpTwhgAAZgwNQTP9O8AZLHAHViwP7pKr+1xgBXBmwU+cxZDPBlwOkq/+gNDIgzQEwlwLMuQAb4MeA+BnjPgK4xxAD3BjAPcGNA9xj+BAN8GHCxr7oY4MSA3jE8gwEYgAH2DegfwrufvYMB1g3YG6rsg78cYID5DAi5t4oBdg2IGUAMMGjA2Mcr2jdAMaCXrx5jgPMMGB89DDBtQIgAjg1Q6wYE1b/xL5jHgF4OQgXAgGgDxFIAYIBZA0YU+DcGmDZgdNS+JQOMZ0B4D7BjgGBAUABsHn7TBggGnOShSqwAdgwQDIi//rX5LxfHgCgBRgwQaXsiIN4NSKm/GwNkkgFNKBA6Wu0bsOo1YOQrAIYHrXEDEsvf/ETw9IGPjJBJAx49nSSAGwM6941sZED4QDkwIFIBPwaMPrtZA2IU6JKg9cXAtOobWAp0uBt4tu0bcD20ZBp6VRgxICzOp7WBhvq/hL2KHwNOKRD4vMPKDHh6MZsARgzQBOufPzD0af+qrQ3EjY5tAyQ+pFNGqyYDYi8PhwakKdCGAXnLb2Ax2HPsKeNYvQEHUTXSaAPEkgGScDFVb0D4kEjsi6o9AyTBgIdfVm1A9svfigHJCsT1jiUViB6QwxQBzBkgmubApXoM+Py9i9GFSZKrbQEkbWrXf3lVlAFpmyMYMKURvHrW+RED9oqW/mFSSZIVa9wASVzij1xmE+YMs1/7yQdkyIBkBcZe+OL7sxswW/09GJC2N5Rjz2mu0k87FBsCjKxl8txi3fyf81k3+54fyfwGGImAsTMoc+HJ0ld+jkNwYoAEFyBu420radC/++/T+w/PH2TZg8lkgJo3IHizL+6iTBz1wwsZWx8RkEGBrkfFLUMjhjzXYCfX3K0Bo38wEbIFUNO8N/GaN7kS8GXAtMxX2wZo2ugNP8BE7QcFaNWAVXQIBCiQe7VWUf275iuNrwTOJhggEh8Cy4uQadJvbiWw7cKAjJtO9taCO0kKjHyLQBUKFLndYPGewCrNgMFvEbBowLD3JlYC8WdSpQHH3upJ5psOpneE5zNAExehC+R+54VudzNgsxo3fhs36qkGSPeHcherd89x9OwPWzPgxLn8+tMoBZLbQIZKLCWAuWlA11cMBzswsQ3UyNgRGhQg6XezpreB2hXwZEDHN80HP82WAQGHZ1KArm+aD30iBlgNgdx/dVG/AWEHZ1QA6dwCK2tAzd8sqP4M6PnFES8GxJ+GFwMyKlCzARGHZVaA/p8dErUdAnHHJA4NUNNtIPaQDAsgg5shNvtAwuFYNkAyGLBWCftkcRUGpAmwa1aAkd8fzDAllIoU6DyUQ98RUF6BigxIPBLjAkjgByOSPZAaFJAJRxF397T1EMijQO9PUixkgMgkDX0YMHxvVGRCEixqQNIK1s1eQNhMYHIOLGdA4haGtwgICoHcp79k9SXldUwLEPEzpM0okO+dfRgQ8VvEdRuQ/12dCBD1a9QZ3/LR48czln+CAGJdgOgfJK8oBsq+nZcICJ8M5p8RzFF88f4NogVCoOyIZH67yY6pGwOi/1annTNDgOx9oA0HckwxnAiQGAJVj0ymOaYXA1JDQC0W32MEpE0GKx2brMtMbwZMUaACJfLvLzkSIFmBagwossHsSYDJ64HT/znLwKkUuclQT6y1GALzThGK3mNyJsBkBeadLxa9uaxrlwJM3Rqcbc1Q/uMla3FqwDQFii0bN1/syVH5z5eoXwEqCoEl/67AowBlQ6B7MD97oHUhvgU4vQDOGQLdo/mLrzHAjQKdb3fvOwSotQ+sZzGABDAyFZiwHKhQAHUtQEEFqjdAMGCyAk2HgNADugegtAHCJKBiBXZ2IxWQZhUgAbr2BjU6BNrtAwgweX+46RAQZoHTZ4PpIcAywMh0sN0+QAKM94EIBRpcDyDAUE3sK0AC5EsBEwZQeWcKkABZFQh5WF0GCAlQIgXSPjJIApACCGBiRdCQAghQLAW0jT7Q5zkMKSBWFBAmgWl9IMAADf7tngUVEFpAuRSQBlIAAYorULEBj5kEDrIaKEuMAzWHAAlQPAbqTgEEGOZa0IRQpoaAykIODJ0URKSAlAoBQYCl2QlbFo7/2miFKSB0gDw7A+sgBeozAAHybg6NOpCsgMxUfwRwpQACzO+AaD0KUP9iCjz711H9CgxucEGiA7u7OxmKNYcCXS9KKacroDs5ilU2BY76DKCQ0xXQTNWSsg6MHjqkCjCDAswAmooBqS8FhAAoHwRZ6iVlHECAmWNA65oMUP+5HQi8GzCTAiGRBWWmA7J8JxhoWbuUzb4CYXMWKLk0zJHcqRL0PodqzboqSJJAMijQ+xRKlcBqe1IOyNwxEG4nJBqxdA50b/0fPRl7b0qXi+2Q0mSdx4cGwdCDqFtGrsUrUHI68Dggeiha3j6wE3xx5lzQxQU85V9kLjAava+u28Oj6a1g4C++uf5r2R+Y+AWipd4eFndAiylA/auUIP3zHz+/nfye1L8VBwY9+OhXP6X+VhyIqUtsDZXyt+LAHO/CsNefBLp8ykATzWA5tWCWJEgtWM7XgtYsUMpvUYJpG0iMqjkJct5HBrseMIaeNWDonKrAQPlVgZEBAIAgbt9lDHxzlSEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPhfe3AgAAAAACDI33qFASoAAAAAAAAAAADgCWmkJA4cLArcAAAAAElFTkSuQmCC"},nppr:function(e,t){},pFcx:function(e,t){},rCuC:function(e,t){},tImo:function(e,t){},u8Zm:function(e,t){},uPYm:function(e,t){},w3yl:function(e,t){},z5Hy:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a0ac14f69845533d8081.js.map