webpackJsonp([1],{"+TNZ":function(e,t){},0:function(e,t){},"0k43":function(e,t){},1:function(e,t){},2:function(e,t){},"4WSK":function(e,t){},"4rH6":function(e,t){},EnvZ:function(e,t){},InWQ:function(e,t){},KDfe:function(e,t,a){e.exports=a.p+"static/img/soft_demo1.55d2aab.jpg"},KuYE:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("4WSK");var i=a("P+0C"),l=a.n(i),s=a("xd7I"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App",components:{}},r,!1,function(e){a("S/jE"),a("wisF")},null,null).exports,n=a("ZWLj"),c={name:"Ind",components:{},data:()=>({currentTitle:"终端管理",currentIndex:"1",ifChildTitle:!1,childTitle:"",buttons:[{title:"终端管理",index:"1",url:"/",ifChild:!1,icon:"fa fa-television"},{title:"容器管理",index:"2",url:"/containerManege",ifChild:!1,icon:"fa fa-university"},{title:"微应用管理",index:"3",url:"/applicationManege",ifChild:!1,icon:"fa fa-th-large"},{title:"文件服务",index:"4",url:"/fileService",ifChild:!1,icon:"el-icon-folder"},{title:"任务模块",index:"5",url:"/taskList",ifChild:!1,icon:"el-icon-s-order"},{title:"应用商店",index:"6",url:"/appList",ifChild:!1,icon:"el-icon-s-goods"},{title:"告警推送",index:"7",url:"/alarmPush",ifChild:!1,icon:"fa fa-warning"},{title:"系统管理",index:"8",url:"/",ifChild:!0,icon:"el-icon-s-tools",child:[{title:"租户管理",index:"1",url:"/tenantManage",icon:""},{title:"用户管理",index:"2",url:"/userManage",icon:""},{title:"用户总览",index:"3",url:"/userOverview",icon:""}]}]}),mounted(){this.ifChildTitle=!1;let e=window.location.href;this.buttons.forEach(t=>{t.ifChild?t.child.forEach(a=>{e.indexOf(a.url.substr(1))>-1&&(this.currentTitle=a.title,this.currentIndex=t.index)}):"/"!==e?e.indexOf(t.url.substr(1))>-1&&(this.currentTitle=t.title,this.currentIndex=t.index):(this.currentTitle=this.buttons[0].title,this.currentIndex=this.buttons[0].index)})},methods:{loginOut(){sessionStorage.clear(),this.$router.push({path:"/login"})},changeTitle(e,t){this.currentTitle=e.title,void 0===t?this.ifChildTitle=!1:(this.ifChildTitle=!0,this.childTitle=e.child[t].title)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"ind_div"}},[i("el-container",[i("el-header",{staticClass:"header"},[i("el-row",[i("el-col",{attrs:{span:1,offset:1}},[i("img",{attrs:{src:a("dLd/"),height:"50",width:"50"}})]),e._v(" "),i("el-col",{attrs:{span:4}},[i("h1",[e._v("AC物联管理系统")])]),e._v(" "),i("el-col",{staticStyle:{float:"right","margin-top":"10px"},attrs:{span:1}},[i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link dropdownArea",staticStyle:{"font-size":"30px"}},[i("i",{staticClass:"el-icon-s-unfold"})]),e._v(" "),i("el-dropdown-menu",{staticClass:"dropMenu",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[i("router-link",{attrs:{to:"/"}},[i("i",{staticClass:"fa fa-key",attrs:{"aria-hidden":"true"}}),e._v("修改密码\n                ")])],1),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[i("router-link",{attrs:{to:"/"}},[i("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v("个人信息\n                ")])],1),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-circle-check-outline"}},[i("el-button",{staticStyle:{color:"#ffffff"},attrs:{type:"text"},on:{click:e.loginOut}},[i("i",{staticClass:"fa fa-power-off",attrs:{"aria-hidden":"true"}}),e._v("登出\n                ")])],1)],1)],1)],1),e._v(" "),i("el-col",{staticClass:"dropdownArea",staticStyle:{float:"right","margin-top":"10px","font-size":"25px"},attrs:{span:1}},[i("i",{staticClass:"fa fa-bell",attrs:{"aria-hidden":"true"}})])],1)],1),e._v(" "),i("el-container",[i("el-aside",{staticStyle:{height:"100%"},attrs:{width:"200px"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"850px","text-align":"center"},attrs:{"default-active":e.currentIndex,"background-color":"rgb(240,240,240)","text-color":"#000000","active-text-color":"#0b54c1"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.buttons,function(t,a){return i("div",{key:a},[t.ifChild?e._e():i("router-link",{attrs:{to:t.url},nativeOn:{click:function(a){return e.changeTitle(t)}}},[i("el-menu-item",{key:a,attrs:{index:t.index}},[i("span",{attrs:{slot:"title"},slot:"title"},[i("i",{class:t.icon,attrs:{"aria-hidden":"true"}}),e._v("\n                      "+e._s(t.title)+"\n                    ")])])],1),e._v(" "),t.ifChild?i("el-submenu",{staticClass:"childMenu",attrs:{index:t.index}},[i("template",{slot:"title"},[i("i",{class:t.icon}),e._v(" "),i("span",[e._v(e._s(t.title))])]),e._v(" "),e._l(t.child,function(a,l){return i("div",{key:l},[t.ifChild?i("router-link",{attrs:{to:a.url},nativeOn:{click:function(a){return e.changeTitle(t,l)}}},[i("el-menu-item",{attrs:{index:t.index+a.index}},[i("i",{class:a.icon,attrs:{"aria-hidden":"true"}}),e._v("\n                        "+e._s(a.title)+"\n                      ")])],1):e._e()],1)})],2):e._e()],1)}),0)],1)],1)],1),e._v(" "),i("el-main",{staticStyle:{"margin-top":"10px"}},[i("el-breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{"margin-bottom":"10px"},attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[i("i",{staticClass:"fa fa-home",staticStyle:{"font-size":"25px",color:"rgb(75,131,178)"},attrs:{"aria-hidden":"true"}})]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.currentTitle))]),e._v(" "),e.ifChildTitle?i("el-breadcrumb-item",[e._v(e._s(e.childTitle))]):e._e()],1),e._v(" "),i("router-view",{attrs:{to:{path:"/"}}})],1)],1)],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(c,d,!1,function(e){a("InWQ"),a("0k43")},"data-v-12f91c38",null).exports,p={name:"LoginPage",data:()=>({activeName:"userLogin",userForm:{username:"",password:""},heightData:0,formRule:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),mounted(){this.resize(),window.addEventListener("resize",this.resize)},beforeDestroy(){window.removeEventListener("resize",this.resize)},created(){},methods:{resize(){const e=Math.max(document.documentElement.clientHeight,768);this.heightData=e-50+"px"},changeCodeImg(){let e=Math.ceil(10*Math.random());this.imgCodeUrl="/api/genVerCode?"+e},submitForm(){this.$router.push("/")}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page",style:{height:e.heightData}},[a("el-row",[a("el-col",{attrs:{span:7,offset:2}},[a("h1",{staticStyle:{"padding-top":"50%",color:"#ffff","font-size":"48px"}},[e._v("AC物联管理系统")])]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"},attrs:{span:6,offset:3}},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户登录",name:"userLogin"}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.formRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v("登录")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("router-link",{attrs:{to:"/register"}},[a("el-button",[e._v("立即注册")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(p,u,!1,function(e){a("ygVq")},"data-v-dfb9fb1e",null).exports,h={name:"signPage",data(){let e=(e,t,a)=>{if(!t)return a(new Error("请输入您的账号"));if(!/^[A-Za-z0-9]+$/.test(t))return a(new Error("账号由数字和英文字母组成，请重新输入"));a()},t=(e,t,a)=>{if(!t)return a(new Error("请输入您的密码"));if(!/^(\w){6,20}$/.test(t))return a(new Error("密码由6-20个字母、数字、下划线组成，请重新输入"));a()},a=(e,t,a)=>{if(!t)return a(new Error("请输入您的手机号"));{const e=/^1[3|4|5|7|8][0-9]\d{8}$/;if(console.log(e.test(t)),!e.test(t))return a(new Error("请输入正确的手机号"));a()}};return{activeName:"userRegister",userForm:{username:"",passwd:"",email:"",address:"",nickname:"",userCode:"",phone:"",verificationCode:""},heightData:0,enterpriseForm:{username:"",passwd:"",email:"",name:"",addr:"",nickname:"",orgId:"",phone:"",verificationCode:""},registerRule:{username:[{required:!0,message:"请输入您的账号",trigger:"blur"},{validator:e,trigger:"blur"}],passwd:[{required:!0,message:"请输入您的密码",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"请输入您的地址",trigger:"blur"}],nickname:[{required:!0,message:"请输入您的姓名",trigger:"blur"}],userCode:[{required:!0,message:"请输入您的身份证号码",trigger:"blur"}],phone:[{required:!0,message:"请输入您的手机号",trigger:"blur"},{validator:a,trigger:"blur"}]},enterpriseRule:{username:[{required:!0,message:"请输入您的账号",trigger:"blur"},{validator:e,trigger:"blur"}],passwd:[{required:!0,message:"请输入您的密码",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"请输入您的地址",trigger:"blur"}],nickname:[{required:!0,message:"请输入您的企业名称",trigger:"blur"}],orgId:[{required:!0,message:"请输入您的企业信用代码",trigger:"blur"}],phone:[{required:!0,message:"请输入您的手机号",trigger:"blur"},{validator:a,trigger:"blur"}]}}},mounted(){this.resize(),window.addEventListener("resize",this.resize)},beforeDestroy(){window.removeEventListener("resize",this.resize)},methods:{resize(){const e=Math.max(document.documentElement.clientHeight,768);this.heightData=e-120+"px"},userRegister(e){this.$axios.get(baseUrl+"/sysuser/check-username",{params:{username:this.userForm.username}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get(baseUrl+"/sysuser/check",{params:{column:"email",value:this.userForm.email}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get(baseUrl+"/sysuser/check",{params:{column:"phone",value:this.userForm.phone}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.post(baseUrl+"/sysuser/create",this.userForm).then(e=>{"成功"===e.data.message?(this.$message({showClose:!0,message:"注册成功",type:"success"}),this.$router.push("/")):this.$message({showClose:!0,message:"注册失败",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"手机号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"邮箱已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"账号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)})},enterpriseRegister(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.$axios.get(baseUrl+"/sysuser/check-username",{params:{username:this.enterpriseForm.username}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get(baseUrl+"/sysuser/check",{params:{column:"email",value:this.enterpriseForm.email}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.get(baseUrl+"/sysuser/check",{params:{column:"phone",value:this.enterpriseForm.phone}}).then(e=>{"CHECK_NO_EXIST"===e.data.data?this.$axios.post(baseUrl+"/sysuser/org-reg",this.enterpriseForm).then(e=>{"成功"===e.data.message?(this.$message({showClose:!0,message:"注册成功",type:"success"}),this.$router.push("/")):this.$message({showClose:!0,message:"注册失败",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"手机号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"邮箱已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)}):this.$message({showClose:!0,message:"账号已存在，请重新输入",type:"error"})}).catch(e=>{console.log(e)})})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register-page",style:{height:e.heightData}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"},attrs:{span:8,offset:7}},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"个人用户注册",name:"userRegister"}},[a("el-row",[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.registerRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入您的账号"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入您的密码"},model:{value:e.userForm.passwd,callback:function(t){e.$set(e.userForm,"passwd",t)},expression:"userForm.passwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入您的电子邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{attrs:{placeholder:"请输入您的联系地址"},model:{value:e.userForm.address,callback:function(t){e.$set(e.userForm,"address",t)},expression:"userForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.userForm.nickname,callback:function(t){e.$set(e.userForm,"nickname",t)},expression:"userForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{placeholder:"请输入您的身份证号"},model:{value:e.userForm.userCode,callback:function(t){e.$set(e.userForm,"userCode",t)},expression:"userForm.userCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.userForm.phone,callback:function(t){e.$set(e.userForm,"phone",t)},expression:"userForm.phone"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.userRegister("userForm")}}},[e._v("立即注册")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"企业用户注册",name:"enterpriseRegister"}},[a("el-row",[a("el-form",{ref:"enterpriseForm",attrs:{model:e.enterpriseForm,rules:e.enterpriseRule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入您的账号"},model:{value:e.enterpriseForm.username,callback:function(t){e.$set(e.enterpriseForm,"username",t)},expression:"enterpriseForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入您的密码"},model:{value:e.enterpriseForm.passwd,callback:function(t){e.$set(e.enterpriseForm,"passwd",t)},expression:"enterpriseForm.passwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入您的电子邮箱"},model:{value:e.enterpriseForm.email,callback:function(t){e.$set(e.enterpriseForm,"email",t)},expression:"enterpriseForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.enterpriseForm.name,callback:function(t){e.$set(e.enterpriseForm,"name",t)},expression:"enterpriseForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业名",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.enterpriseForm.nickname,callback:function(t){e.$set(e.enterpriseForm,"nickname",t)},expression:"enterpriseForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业信用代码",prop:"orgId"}},[a("el-input",{attrs:{placeholder:"请输入您的企业信用代码"},model:{value:e.enterpriseForm.orgId,callback:function(t){e.$set(e.enterpriseForm,"orgId",t)},expression:"enterpriseForm.orgId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{attrs:{placeholder:"请输入您的联系地址"},model:{value:e.enterpriseForm.addr,callback:function(t){e.$set(e.enterpriseForm,"addr",t)},expression:"enterpriseForm.addr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.enterpriseForm.phone,callback:function(t){e.$set(e.enterpriseForm,"phone",t)},expression:"enterpriseForm.phone"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13,offset:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.enterpriseRegister("enterpriseForm")}}},[e._v("立即注册")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var v=a("C7Lr")(h,f,!1,function(e){a("4rH6"),a("uAlJ")},"data-v-ec64497a",null).exports,b=(a("KrjX"),a("xXAf")),_=a.n(b);const y={};var w={name:"terminalManege",data:()=>({excelShow:!1,activeTab:"allView",tableSize:0,tableLimit:10,selectedRow:[],searchItem:{deviceId:"",name:"",deviceType:""},typeArr:{title:"请选择设备类型",options:[]},allDataArr:[{title:"终端总数",timeTitle:"当前",smallTitle:"接入终端总数",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"blue"},{title:"在线终端总数",timeTitle:"当前",smallTitle:"当前在线终端总数",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"green"},{title:"已激活终端总数",timeTitle:"当前",smallTitle:"已激活终端",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"greenAll"},{title:"未激活终端总数",timeTitle:"当前",smallTitle:"未激活终端",count:"0",percent:"0%",icon:"fa fa-long-arrow-up",color:"orange"}],mapData:[{name:"河北",value:102},{name:"山西",value:81},{name:"内蒙古",value:47},{name:"辽宁",value:67},{name:"黑龙江",value:123},{name:"江苏",value:92},{name:"浙江",value:114},{name:"安徽",value:109},{name:"福建",value:116},{name:"江西",value:91},{name:"山东",value:119},{name:"河南",value:137},{name:"湖北",value:116},{name:"湖南",value:114},{name:"四川",value:125},{name:"贵州",value:62},{name:"云南",value:83},{name:"西藏",value:9},{name:"陕西",value:80},{name:"甘肃",value:56},{name:"青海",value:10},{name:"宁夏",value:18},{name:"新疆",value:180},{name:"广东",value:123},{name:"广西",value:59},{name:"海南",value:14}],tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogEdit:!1,ifDialogDetail:!1,ifAddContainer:!1,currentRow:{},dialogForm:{deviceId:"",name:"",deviceType:"",status:"",ip:"",mac:"",ActiveTime:"",description:"",containerArr:[]},dialogRules:{deviceId:[{required:!0,message:"请输入终端ID",trigger:"blur"}],name:[{required:!0,message:"请输入终端名称",trigger:"blur"}],deviceType:[{required:!0,message:"请选择终端类型",trigger:"blur"}],ip:[{validator:(e,t,a)=>{!1===/(?=(\b|\D))(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))(?=(\b|\D))/.test(t)?a(new Error("请输入正确的IP地址")):a()},trigger:"blur"}],mac:[{validator:(e,t,a)=>{!1===/((([a-f0-9]{2}:){5})|(([a-f0-9]{2}-){5}))[a-f0-9]{2}/gi.test(t)?a(new Error("请输入正确的MAC地址")):a()},trigger:"blur"}]},addSelectTitle:"已选容器",addTitle:"容器库",addDialogTypes:[],selectedType:"",currentSelectedContainer:"",appList:[],fileList:[{id:0,fileName:"软件名1",count:50,time:"2019年8月20日"},{id:1,fileName:"软件名2",count:50,time:"2019年8月20日"},{id:2,fileName:"软件名3",count:50,time:"2019年8月20日"},{id:3,fileName:"软件名4",count:50,time:"2019年8月20日"},{id:4,fileName:"软件名5",count:50,time:"2019年8月20日"},{id:5,fileName:"软件名6",count:50,time:"2019年8月20日"},{id:6,fileName:"软件名7",count:50,time:"2019年8月20日"}],fileSelectedList:[],searchFileItem:"",fileCurrentPage:1,filePageSize:10,fileTotal:0,fileParam:{current:1,size:5,sort:"id",dir:"asc"},previewExcel:{}}),mounted(){this.getDeviceType(),this.search(1),this.getMapData(),this.drawMap()},methods:{getDeviceType(){this.$axios.post(baseUrl+"/admin/terminal-type/selTerminalTypeList").then(e=>{this.typeArr.options=e.data.data,this.typeArr.options.push({deviceType:"",name:"全部"})}).catch(e=>{console.log(e)})},search(e){let t={deviceId:this.searchItem.deviceId,name:this.searchItem.name,deviceType:this.searchItem.deviceType};this.$axios.post(baseUrl+"/admin/terminal/devices/info?pageSize="+this.tableLimit+"&pageIndex="+e,t).then(e=>(this.tableSize=e.data.data.totalRecord,this.tableData=e.data.data.data,!1)).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},getMapData(){this.$axios.post(baseUrl+"/admin/snapshoot/queryTerminalStatistic").then(e=>{e.data.success?(this.allDataArr[0].count=e.data.data.terminalNum_total,this.allDataArr[1].count=e.data.data.terminalNum_online,this.allDataArr[2].count=e.data.data.terminalNum_active,this.allDataArr[3].count=e.data.data.terminalNum_unconfirmed):this.$message({message:"查询失败",type:"error"})}).catch(e=>{console.log(e)})},drawMap(){let e=this.$echarts.init(document.getElementById("mapChart"));e.showLoading();let t=this.$echarts.getMap("china").geoJson.features;e.hideLoading(),t.forEach(function(e){let t=e.properties.name;y[t]=e.properties.cp});let a={tooltip:{padding:0,enterable:!0,transitionDuration:1,textStyle:{color:"#000",decoration:"none"},formatter:function(e){var t="";return void 0===e.value||Number.isNaN(e.value)?t='<div style="width:200px;height:80px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:90%;height:30px;line-height:30px;border-bottom:2px solid rgba(7,166,255,0.7);padding-left:15px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:14px;">'+e.name+'</span></div><div style="padding:15px 5px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>总数：<span style="color:#11ee7d;margin:0 6px;">---</span>个</p></div></div>':("object"==typeof e.value&&(e.value=e.value[2]),t='<div style="width:200px;height:80px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:90%;height:30px;line-height:30px;border-bottom:2px solid rgba(7,166,255,0.7);padding-left:15px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:14px;">'+e.name+'</span></div><div style="padding:15px 5px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>总数：<span style="color:#11ee7d;margin:0 6px;">'+e.value+"</span>个</p></div></div>"),t}},visualMap:{show:!0,min:0,max:200,left:"10%",top:"bottom",calculable:!0,seriesIndex:[1],inRange:{color:["#04387b","#467bc0"]}},geo:{show:!0,map:"china",zoom:1.2,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#023677",borderColor:"#1180c7"},emphasis:{areaColor:"#4499d0"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:this.convertData(this.mapData),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#fff"}}},{type:"map",map:"china",geoIndex:0,aspectScale:.85,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:this.mapData},{name:"点",type:"scatter",coordinateSystem:"geo",zlevel:6},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:this.convertData(this.mapData.sort(function(e,t){return t.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"left",show:!1}},itemStyle:{normal:{color:"yellow",shadowBlur:10,shadowColor:"yellow"}},zlevel:1}]};e.setOption(a),e.resize()},convertData(e){let t=[];for(let a=0;a<e.length;a++)if(void 0!==y[e[a].name]){let i=y[e[a].name];i&&t.push({name:e[a].name,value:i.concat(e[a].value)})}return t},detailRow(e){this.ifAddContainer=!1,this.ifDialogEdit=!1,this.ifDialogDetail=!0,this.dialogTitle="终端详细信息",this.dialogForm=Object.assign({},e),this.dialogForm.containerArr=[],this.getContainerDetail(e)},add(e){this.ifAddContainer=!1,this.ifDialogEdit=!1,this.ifDialogDetail=!1,this.dialogTitle="新增终端",this.dialogForm={},this.dialogFormVisible=!0},editRow(e){this.ifAddContainer=!1,this.ifDialogEdit=!0,this.ifDialogDetail=!1,this.dialogTitle="编辑终端",this.dialogForm=Object.assign({},e),this.currentRow=Object.assign({},e),this.dialogForm.containerArr=[],this.getContainerDetail(e)},delRow(e){this.$confirm("是否确定删除     '"+e.name+"'    该终端?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{[].push(e),this.$axios.delete(baseUrl+"/admin/terminal/devices",{params:{devices:e.deviceId}}).then(e=>{e.data.success?(this.$message({type:"success",message:"删除成功!"}),this.search(1)):this.$message({message:e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},getContainerDetail(e){this.$axios.post(baseUrl+"/admin/containers/devicedeploystatus?deviceId="+e.deviceId).then(e=>{null!==e.data.data&&e.data.data.length>0&&(this.dialogForm.containerArr=[],e.data.data.forEach(e=>{let t={name:e.containerConfig.containerName,status:e.containerDeployStatus.deployStatus};""!==e.containerConfig.openServices&&(e.containerConfig.appList=e.containerConfig.openServices.split(",")),this.dialogForm.containerArr.push(t)}),this.$forceUpdate()),console.info(this.dialogForm),this.ifAddContainer&&(this.ifAddContainer=!1),this.dialogFormVisible=!0}).catch(e=>{console.log(e)})},restart(e){this.$confirm("是否确定重启终端——'"+e.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post(baseUrl+"/admin/terminal/restart?deviceId="+e.deviceId).then(e=>{"0"===e.data.errcode?this.$message({message:e.data.errmsg,type:"success"}):this.$message({message:e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消操作"})})},maintenance(e){this.$confirm("是否确定进入维护状态——'"+e.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post(baseUrl+"/admin/terminal/operation?deviceId="+e.deviceId+"&status=0").then(e=>{"0"===e.data.errcode?this.$message({message:e.data.errmsg,type:"success"}):this.$message({message:e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消操作"})})},updateRow(){this.$confirm("是否确定升级——'"+row.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{}).catch(()=>{this.$message({type:"info",message:"已取消升级"})})},pairRow(){this.$confirm("是否确定对时——'"+this.currentRow.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.put(baseUrl+"/admin/terminal/devices/clocksyn/"+this.currentRow.deviceId).then(e=>{e.data.success?this.$message({message:"对时成功",type:"success"}):this.$message({message:e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消对时"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1){let t={headers:{"Content-Type":"application/json"}},a=[];a.push(this.dialogForm),this.$axios.post(baseUrl+"/admin/terminal/devices",a,t).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)):this.$message({message:t.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}else{var a=this.$qs.stringify(this.dialogForm);this.$axios.put(baseUrl+"/admin/terminal/devices/"+this.dialogForm.deviceId+"?"+a).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)):this.$message({message:t.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}})},chooseFile(e,t){"app"===e?(this.addSelectTitle="已选应用",this.addTitle="应用库",this.currentSelectedContainer=t,this.getApplications(1)):(this.addSelectTitle="已选容器",this.addTitle="容器库",this.getContainer(1)),this.getAddDialogType(),this.fileSelectedList=[],this.ifAddContainer=!0},getAddDialogType(){let e="";e=this.addTitle.indexOf("容器")>-1?"/admin/containers/types":"/admin/app/getAllTypes",this.$axios.post(baseUrl+e).then(e=>{e.data.success&&(this.addDialogTypes=e.data.data)}).catch(e=>{console.log(e)})},getContainer(e){let t={};t.name=this.searchFileItem,""!==this.selectedType&&(t.type=this.selectedType),this.$axios.post(baseUrl+"/admin/containers/files",{condition:t,pageSize:this.filePageSize,pageIndex:e,sort:["desc"]},{headers:{"Content-Type":"application/json"}}).then(e=>{this.fileTotal=e.data.totalRecord,e.data.data.length>0&&e.data.data.forEach(e=>{Object.keys(e.containerFiles[0]).forEach(t=>{e[t]=e.containerFiles[0][t]})}),this.fileList=e.data.data}).catch(e=>{console.log(e)})},getApplications(e){let t={};""!==this.searchFileItem&&(t.name=this.searchFileItem),""!==this.selectedType&&(t.type=this.selectedType),this.$axios.post(baseUrl+"/admin/app/files?pageIndex="+e+"&pageSize="+this.filePageSize,t).then(e=>{this.fileTotal=e.data.data.total,this.fileList=e.data.data.records}).catch(e=>{console.log(e)})},typeSelect(e,t){this.selectedType=e,-1!=this.addTitle.indexOf("容器")?this.getContainer(1):this.getApplications(1)},submitFile(){if(this.fileSelectedList.length>0){let e="",t={},a=[];"应用库"===this.addTitle?(e=baseUrl+"/admin/app/deploy?isUpdate=false",this.fileSelectedList.forEach(e=>{let t={containerName:this.currentSelectedContainer,deviceId:this.currentRow.deviceId,name:e.appName,operateType:0,type:e.appType,vendor:e.vendor,version:e.version};a.push(t)}),t=a):"容器库"===this.addTitle&&(e=baseUrl+"/admin/containers/deploy",this.fileSelectedList.forEach(e=>{let t={containerInfo:{incrementPkg:e.containerFiles.incrementPkg,name:e.name,releaseTime:e.containerFiles.releaseTime,releaseUser:e.containerFiles.releaseUser,type:e.type,vendor:e.vendor,version:e.containerFiles.version},containerconfig:{containerName:e.name,cpuCores:0,description:e.containerFiles.description,diskSizeMB:0,memoryMB:0,openServices:"",physicalInterfaces:"",volumeSizeMB:0},deviceId:this.currentRow.deviceId};a.push(t)}),t={containerlist:a,update:!1}),this.$axios.post(e,t,{headers:{"Content-Type":"application/json"}}).then(e=>{"0"===e.data.errcode?(this.$message({message:"安装成功",type:"success"}),this.getContainerDetail(this.currentRow)):this.$message({message:"安装失败  "+e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}else this.$message({message:"请选择进行安装",type:"warning"})},uninstallContainer(e){1!==e.status?this.$message({message:"该容器处于不可卸载状态，请重新选择",type:"warning"}):this.$confirm("是否卸载容器——'"+e.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=[{containerNames:[e.name],deviceId:this.currentRow.deviceId}];this.$axios.post(baseUrl+"/admin/containers/uninstall",t).then(e=>{"0"===e.data.errcode&&(this.getContainerDetail(this.currentRow),this.$message({message:"已提交卸载信息，等待卸载",type:"success"}))}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消卸载"})})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},searchFile(){-1!=this.addTitle.indexOf("容器")?this.getContainer(1):this.getApplications(1)},importExcel(e){const t=e.name.split(".")[1];["xlsx","xlc","xlm","xls","xlt","xlw","csv"].some(e=>e===t)?this.file2Xce(e).then(e=>{e&&e.length>0&&(this.xlsxJson=e,this.previewExcel.header=Object.keys(e[0].sheet[0]),this.previewExcel.body=e[0].sheet,this.excelShow=!0,console.log("数据",this.xlsxJson))}):this.$message({message:"格式错误,请重新选择表格文件",type:"error"})},file2Xce:e=>new Promise(function(t,a){const i=new FileReader;i.onload=function(e){const a=e.target.result;this.wb=_.a.read(a,{type:"binary"});const i=[];this.wb.SheetNames.forEach(e=>{i.push({sheetName:e,sheet:_.a.utils.sheet_to_json(this.wb.Sheets[e])})}),t(i)},i.readAsBinaryString(e.raw)}),uploadFile(){const e=this.$loading({lock:!0,text:"正在上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});let t=[];this.previewExcel.body.forEach(e=>{t.push(e)});console.info(t),this.$axios.post(baseUrl+"/admin/terminal/devices",t,{headers:{"Content-Type":"application/json"}}).then(t=>{t.data.success?(e.close(),this.dialogFormVisible=!1,this.excelShow=!1,this.search(1),this.$message({message:"上传成功",type:"success"})):(e.close(),this.$message({message:t.data.errmsg,type:"error"}))}).catch(e=>{console.log(e)})},fileSizeChange(e){this.filePageSize=e,this.fileParam={current:1,size:e,sort:"id",dir:"asc"},this.searchFile("")},fileCurrentChange(e){this.fileParam={current:e,size:this.filePageSize,sort:"id",dir:"asc"},this.searchFile("")},handleSelectionChange(e){this.fileSelectedList=e},removeSelected(e){this.fileSelectedList.forEach((t,a)=>{if("应用库"===this.addTitle){if(t.appName===e.appName)return this.fileSelectedList.splice(a,1),this.$refs.multipleTable.toggleRowSelection(t,!1),!1}else if(t.name===e.name)return this.fileSelectedList.splice(a,1),this.$refs.multipleTable.toggleRowSelection(t,!1),!1})},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},dateFormat:(e,t,a,i)=>a,selectExcel(e){this.previewExcel=e,this.excelShow=!0,console.info(e)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"terminalManege"}},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"总览",name:"allView"}},[a("el-row",e._l(e.allDataArr,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"0px 10px"},attrs:{span:5}},[a("el-card",{staticClass:"box-card allCard",attrs:{shadow:"hover","body-style":{padding:"15px"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"pull-right",class:t.color},[e._v(e._s(t.timeTitle))])]),e._v(" "),a("h1",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(t.count))])])],1)}),1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"mapChart"}})])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"详细列表",name:"detailView"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"终端ID",prop:"deviceId"}},[a("el-input",{attrs:{placeholder:"请输入终端ID"},model:{value:e.searchItem.deviceId,callback:function(t){e.$set(e.searchItem,"deviceId",t)},expression:"searchItem.deviceId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"name",label:"终端名称"}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"deviceType",label:"终端类型"}},[a("el-select",{attrs:{placeholder:e.typeArr.title},model:{value:e.searchItem.deviceType,callback:function(t){e.$set(e.searchItem,"deviceType",t)},expression:"searchItem.deviceType"}},e._l(e.typeArr.options,function(e){return a("el-option",{key:e.deviceType,attrs:{label:e.name,value:e.deviceType}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"terminalTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceId",label:"终端ID",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.deviceId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"终端名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"终端ip"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",label:"mac地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceType",label:"设备类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"终端状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),1===t.row.status?a("span",{staticStyle:{color:"orange"}},[e._v("告警")]):e._e(),e._v(" "),2===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("故障")]):e._e(),e._v(" "),3===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("离线")]):e._e(),e._v(" "),4===t.row.status?a("span",{staticStyle:{color:"#000"}},[e._v("未注册")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"registerTime",width:"180",label:"激活时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",{staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),a("el-upload",{ref:"upload",attrs:{action:"/","show-file-list":!1,"on-change":e.importExcel,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",icon:"el-icon-upload",size:"small",type:"primary",plain:""},slot:"trigger"},[e._v("批量导入")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"75%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddContainer,expression:"!ifAddContainer"}]},[a("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端ID",prop:"deviceId"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.deviceId))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{staticStyle:{width:"80%",float:"left"},attrs:{placeholder:"请输入终端ID"},model:{value:e.dialogForm.deviceId,callback:function(t){e.$set(e.dialogForm,"deviceId",t)},expression:"dialogForm.deviceId"}}),e._v(" "),e.ifDialogEdit?a("el-button",{staticStyle:{float:"right",margin:"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.restart(e.dialogForm)}}},[e._v("重启")]):e._e()],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端名称",prop:"name"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.name))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入终端名称"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1)],1)],1),e._v(" "),a("el-row"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备类型",prop:"deviceType"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.deviceType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-select",{staticStyle:{float:"left"},attrs:{placeholder:e.typeArr.title},model:{value:e.dialogForm.deviceType,callback:function(t){e.$set(e.dialogForm,"deviceType",t)},expression:"dialogForm.deviceType"}},e._l(e.typeArr.options,function(e){return a("el-option",{key:e.deviceType,attrs:{label:e.name,value:e.deviceType}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"制造商"}},[e.ifDialogDetail||e.ifDialogEdit?a("span",[e._v(e._s(e.dialogForm.vendor))]):e._e(),e._v(" "),e.ifDialogDetail||e.ifDialogEdit?e._e():a("el-input",{attrs:{placeholder:"请输入制造商"},model:{value:e.dialogForm.vendor,callback:function(t){e.$set(e.dialogForm,"vendor",t)},expression:"dialogForm.vendor"}})],1)],1)],1),e._v(" "),e.ifDialogDetail?a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"终端版本"}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(e.dialogForm.version))])])],1)],1):e._e(),e._v(" "),e.ifDialogEdit||e.ifDialogDetail?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端状态",prop:"status"}},[0===e.dialogForm.status?a("span",[e._v("正常")]):e._e(),e._v(" "),1===e.dialogForm.status?a("span",[e._v("告警")]):e._e(),e._v(" "),2===e.dialogForm.status?a("span",[e._v("故障")]):e._e(),e._v(" "),3===e.dialogForm.status?a("span",[e._v("离线")]):e._e(),e._v(" "),4===e.dialogForm.status?a("span",[e._v("未注册")]):e._e(),e._v(" "),e.ifDialogEdit?a("el-button",{staticStyle:{float:"right",margin:"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.maintenance(e.dialogForm)}}},[e._v("进入维护状态")]):e._e()],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端时间"}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(e.dialogForm.ActiveTime))]),e._v(" "),e.ifDialogEdit?a("el-button",{staticStyle:{float:"right",margin:"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.pairRow(e.dialogForm)}}},[e._v("对时")]):e._e()],1)],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端ip"}},[e.ifDialogDetail||e.ifDialogEdit?a("span",[e._v(e._s(e.dialogForm.ip))]):e._e(),e._v(" "),e.ifDialogDetail||e.ifDialogEdit?e._e():a("el-input",{attrs:{placeholder:"请输入终端ip"},model:{value:e.dialogForm.ip,callback:function(t){e.$set(e.dialogForm,"ip",t)},expression:"dialogForm.ip"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"mac地址"}},[e.ifDialogDetail||e.ifDialogEdit?a("span",[e._v(e._s(e.dialogForm.mac))]):e._e(),e._v(" "),e.ifDialogDetail||e.ifDialogEdit?e._e():a("el-input",{attrs:{placeholder:"请输入mac地址"},model:{value:e.dialogForm.mac,callback:function(t){e.$set(e.dialogForm,"mac",t)},expression:"dialogForm.mac"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备经度"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.gisLon))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入设备经度"},model:{value:e.dialogForm.gisLon,callback:function(t){e.$set(e.dialogForm,"gisLon",t)},expression:"dialogForm.gisLon"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备纬度"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.gisLat))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入设备纬度"},model:{value:e.dialogForm.gisLat,callback:function(t){e.$set(e.dialogForm,"gisLat",t)},expression:"dialogForm.gisLat"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"描述信息"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.description))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{type:"textarea",placeholder:"请输入描述信息"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"10px 0px",overflow:"auto"}},[a("el-row",[a("el-col",{staticStyle:{width:"auto"},attrs:{span:24}},[a("el-form-item",{staticStyle:{height:"30px"},attrs:{label:"容器"}},[a("el-row",{attrs:{type:"flex"}},[e._l(e.dialogForm.containerArr,function(t,i){return a("div",{key:i,staticClass:"el-col addConfig"},[e._v("\n                    "+e._s(t.name)+"\n                    "),e.ifDialogDetail?e._e():a("el-button",{attrs:{type:"text",plain:"",circle:"",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.uninstallContainer(t)}}})],1)}),e._v(" "),a("div",{staticClass:"el-col addConfig"},[e.ifDialogDetail?e._e():a("el-button",{attrs:{type:"primary",plain:"",circle:"",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.chooseFile("container")}}})],1)],2)],1)],1)],1),e._v(" "),void 0!==e.dialogForm.containerArr&&e.dialogForm.containerArr.length>0?a("el-row",[a("el-col",{staticStyle:{height:"auto",width:"auto"},attrs:{span:24}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"应用"}},[a("el-row",{attrs:{type:"flex"}},e._l(e.dialogForm.containerArr,function(t,i){return a("div",{key:i,staticClass:"el-col addConfig",staticStyle:{"min-height":"95px"}},[e._l(t.appList,function(t,i){return a("div",{key:i,staticStyle:{padding:"5px"}},[e._v("\n                      "+e._s(t)+"\n                      "),e.ifDialogDetail?e._e():a("el-button",{attrs:{type:"text",plain:"",circle:"",size:"mini",icon:"el-icon-delete"}})],1)}),e._v(" "),a("div",[e.ifDialogDetail?e._e():a("el-button",{staticStyle:{padding:"5px"},attrs:{type:"primary",plain:"",circle:"",size:"mini",icon:"el-icon-plus"},on:{click:function(a){return e.chooseFile("app",t.name)}}})],1)],2)}),0)],1)],1)],1):e._e()],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.ifAddContainer,expression:"ifAddContainer"}]},[a("el-col",{attrs:{span:17}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.addTitle))])]),e._v(" "),a("div",[a("el-container",[a("el-aside",{attrs:{width:"150px"}},[a("el-row",[a("el-menu",{staticClass:"el-menu-vertical-demo",on:{open:e.handleOpen,close:e.handleClose,select:e.typeSelect}},[-1!=e.addTitle.indexOf("容器")?a("div",e._l(e.addDialogTypes,function(t,i){return a("div",{key:i},[t.child?e._e():a("el-menu-item",{attrs:{index:t.itemCode}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.itemName))])]),e._v(" "),t.child?a("el-submenu",{attrs:{index:t.itemCode}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v(e._s(t.itemName))])]),e._v(" "),e._l(t.child,function(t,i){return a("el-menu-item",{key:i,attrs:{index:t.itemCode}},[e._v(e._s(t.itemName))])})],2):e._e()],1)}),0):e._e(),e._v(" "),-1==e.addTitle.indexOf("容器")?a("div",e._l(e.addDialogTypes,function(t,i){return a("div",{key:i},[t.child?e._e():a("el-menu-item",{attrs:{index:t.ItemCode}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.ItemName))])]),e._v(" "),t.child?a("el-submenu",{attrs:{index:t.ItemCode}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v(e._s(t.ItemName))])]),e._v(" "),e._l(t.child,function(t,i){return a("el-menu-item",{key:i,attrs:{index:t.ItemCode}},[e._v(e._s(t.ItemName))])})],2):e._e()],1)}),0):e._e()])],1)],1),e._v(" "),a("el-container",[a("el-header",[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入名称进行查询"},model:{value:e.searchFileItem,callback:function(t){e.searchFileItem=t},expression:"searchFileItem"}})],1),e._v(" "),a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchFile()}}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-main",{style:{padding:"0px"}},[a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.fileList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),"应用库"!==e.addTitle?a("el-table-column",{attrs:{prop:"name",label:"名称"}}):e._e(),e._v(" "),"应用库"!==e.addTitle?a("el-table-column",{attrs:{prop:"type",label:"类型"}}):e._e(),e._v(" "),"应用库"===e.addTitle?a("el-table-column",{attrs:{prop:"appName",label:"名称"}}):e._e(),e._v(" "),"应用库"===e.addTitle?a("el-table-column",{attrs:{prop:"appType",label:"类型"}}):e._e(),e._v(" "),"应用库"===e.addTitle?a("el-table-column",{attrs:{prop:"version",label:"版本"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"vendor",label:"开发商"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.fileCurrentPage,"page-sizes":[5,10,15],"page-size":e.filePageSize,layout:"total, prev, pager, next, jumper",total:e.fileTotal},on:{"size-change":e.fileSizeChange,"current-change":e.fileCurrentChange}})],1)],1)],1)],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.addSelectTitle))])]),e._v(" "),a("div",["应用库"!==e.addTitle?a("ul",e._l(e.fileSelectedList,function(t,i){return a("li",{key:i},[e._v("\n                "+e._s(t.name)+"\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeSelected(t)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0):e._e(),e._v(" "),"应用库"===e.addTitle?a("ul",e._l(e.fileSelectedList,function(t,i){return a("li",{key:i},[e._v("\n                "+e._s(t.appName)+"\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeSelected(t)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0):e._e()])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddContainer&&(!e.ifDialogDetail||e.ifDialogEdit),expression:"!ifAddContainer&&(!ifDialogDetail||ifDialogEdit)"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAddContainer,expression:"!ifAddContainer"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifAddContainer,expression:"ifAddContainer"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFile()}}},[e._v("安 装")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifAddContainer,expression:"ifAddContainer"}],on:{click:function(t){e.ifAddContainer=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"文件预览",visible:e.excelShow,width:"75%"},on:{"update:visible":function(t){e.excelShow=t}}},[a("div",{staticClass:"previewView"},[a("table",{staticClass:"previewTable"},[a("thead",[a("tr",e._l(e.previewExcel.header,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),0)]),e._v(" "),a("tbody",e._l(e.previewExcel.body,function(t,i){return a("tr",{key:i},e._l(t,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),0)}),0)])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile()}}},[e._v("上 传")]),e._v(" "),a("el-button",{on:{click:function(t){e.excelShow=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var A=a("C7Lr")(w,x,!1,function(e){a("KuYE")},"data-v-d1391d7c",null).exports,D={name:"applicationManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{name:"",type:""},appTypeArr:{title:"微应用类型",options:[]},containerTypeArr:{title:"请选择容器类型",options:[{value:"1",label:"容器1"},{value:"2",label:"容器2"},{value:"3",label:"容器3"}]},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogDetail:!1,dialogForm:{appName:"",appType:"",appReleaseTime:"",vendor:"",version:"",containerType:"",containerVersion:"",downloadURL:"",fileSizeMB:"",logo:"",minVcpus:"",minDataDiskMB:"",physicalInterfaces:""},dialogRules:{appId:[{required:!0,message:"请输入微应用ID",trigger:"change"}],appName:[{required:!0,message:"请输入微应用名称",trigger:"blur"}],appType:[{required:!0,message:"请选择微应用类型",trigger:"change"}],appStoreId:[{required:!0,message:"请输入应用中心微应用名称 ",trigger:"change"}]},ifInstallDialog:!1,ifGetInstalled:!1,deviceList:[],selectedContainer:[],deviceCurrentPage:1,devicePageSize:10,deviceTotal:0,urlSelectVisible:!1,currentUrlType:"",urlList:[{name:"test",url:123123,logo:"testlogo"},{name:"test1",url:233333,logo:"testlogo1"}],urlCurrentPage:1,urlPageSize:10,urlTotal:0}),mounted(){this.getAddDialogType(),this.search(1)},methods:{getAddDialogType(){this.$axios.post(baseUrl+"/admin/app/getAllTypes").then(e=>{e.data.success&&(this.appTypeArr.options=e.data.data,this.appTypeArr.options.push({ItemCode:"",ItemName:"全部"}))}).catch(e=>{console.log(e)})},search(e){let t={};Object.keys(this.searchItem).forEach(e=>{""!==this.searchItem[e]&&(t[e]=this.searchItem[e])}),this.$axios.post(baseUrl+"/admin/app/files?pageIndex="+e+"&pageSize="+this.tableLimit,t).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.dialogTitle="新增微应用",this.ifDialogDetail=!1,this.ifInstallDialog=!1,this.dialogForm={},this.dialogFormVisible=!0},detailRow(e){this.$nextTick(()=>{this.$refs.dialogForm.resetFields()}),this.dialogTitle="微应用详细信息",this.ifDialogDetail=!0,this.ifInstallDialog=!1,this.dialogForm=Object.assign({},e),this.dialogFormVisible=!0},editRow(e){this.dialogTitle="编辑微应用",this.dialogForm=Object.assign({},e),this.ifDialogDetail=!1,this.ifInstallDialog=!1,this.dialogFormVisible=!0},delRow(e){this.$confirm("是否确定删除     '"+e.appName+"'     该微应用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post(baseUrl+"/admin/app/delete?appId="+e.appId).then(e=>{this.$message({type:"success",message:"删除成功!"}),this.search(1)}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;this.$axios.post(baseUrl+"/admin/app/add",this.dialogForm).then(t=>{this.dialogFormVisible=!1,this.$message({message:"添加成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},toInstallDialog(e,t){this.ifGetInstalled=t,this.currentApp=Object.assign({},e),this.deviceList=[],this.selectedContainer=[],this.ifDialogDetail=!1,this.ifInstallDialog=!0,this.getDeviceDialog(1),this.dialogFormVisible=!0},getDeviceDialog(e){this.ifGetInstalled||this.$axios.post(baseUrl+"/admin/terminal/devices/info?pageSize="+this.devicePageSize+"&pageIndex="+e,{}).then(e=>{this.deviceList=[],e.data.data.data.length>0&&(e.data.data.data.forEach(e=>{e.hasChildren=!0,e.type=e.deviceType,this.deviceList.push(e)}),this.deviceTotal=e.data.data.totalRecord,this.ifInstallDialog=!0)}).catch(e=>{console.log(e)})},load(e,t,a){let i=[];this.$axios.post(baseUrl+"/admin/containers/devicedeploystatus?deviceId="+e.deviceId).then(t=>{"0"===t.data.errcode?null!==t.data.data&&t.data.data.length>0&&(this.dialogForm.containerArr=[],t.data.data.forEach((t,a)=>{let l={deviceId:"容器"+(a+1),name:t.containerInfo.name,type:t.containerInfo.type,parentId:e.deviceId};i.push(l)}),a(i)):(this.$message({message:"无安装信息，请重新选择",type:"error"}),a(i))}).catch(e=>{console.log(e)})},installApp(){let e="",t=[];t=[],this.selectedContainer.length>0?(this.selectedContainer.forEach(t=>{e+=t.name+","}),this.$confirm("是否确定在容器——'"+e+"'中安装应用'"+this.currentApp.appName+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.selectedContainer.forEach(e=>{let a={containerName:e.name,deviceId:e.parentId,name:this.currentApp.appName,operateType:0,type:this.currentApp.appType,vendor:this.currentApp.vendor,version:this.currentApp.version};t.push(a)}),this.$axios.post(baseUrl+"/admin/app/deploy?isUpdate=false",t,{headers:{"Content-Type":"application/json"}}).then(e=>{"0"===e.data.errcode?(this.$message({message:"安装成功",type:"success"}),this.dialogFormVisible=!1):this.$message({message:"安装失败  "+e.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消安装"})})):this.$message({message:"请选择设备进行安装",type:"warning"})},handleSelectionChange(e){this.selectedContainer=e,this.selectedContainer.forEach((e,t)=>{if(Object.keys(e).length>4)return this.selectedContainer.splice(t,1),this.$refs.multipleTable.toggleRowSelection(e,!1),this.$message({message:"请选择终端下的容器",type:"warning"}),!1})},removeSelected(e){this.selectedContainer.forEach((t,a)=>{if(t.name===e.name)return this.selectedContainer.splice(a,1),this.$refs.multipleTable.toggleRowSelection(t,!1),!1})},deviceSizeChange(e){this.devicePageSize=e,this.getDeviceDialog(1)},deviceCurrentChange(e){this.getDeviceDialog(e)},urlFocus(e,t){console.info(e),this.currentUrlType=t,this.getUrls(1),this.urlSelectVisible=!0},getUrls(e){this.$axios.get(baseUrl+"/admin/file/list?pageSize="+this.urlPageSize+"&pageIndex="+e+"&fileType="+this.currentUrlType).then(e=>(this.urlTotal=e.data.data.total,this.urlList=e.data.data.records,!1)).catch(e=>{console.log(e)})},selectUrlOption(e){1===this.currentUrlType?this.dialogForm.downloadURL=e.fileUrl:this.dialogForm.logo=e.fileUrl,this.urlSelectVisible=!1},urlSizeChange(e){this.urlPageSize=e,this.getUrls(1)},urlCurrentChange(e){this.getUrls(e)}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"applicationManage"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"微应用名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入微应用名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"微应用类型",prop:"type"}},[a("el-select",{attrs:{placeholder:e.appTypeArr.title},model:{value:e.searchItem.type,callback:function(t){e.$set(e.searchItem,"type",t)},expression:"searchItem.type"}},e._l(e.appTypeArr.options,function(e){return a("el-option",{key:e.ItemCode,attrs:{label:e.ItemName,value:e.ItemCode}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"applicationTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appId",width:"120",label:"微应用ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.appId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"appName",width:"120",label:"微应用名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appType",label:"微应用类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vendor",width:"120",label:"应用厂商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"微应用版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appReleaseTime",width:"130",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerType",label:"容器类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerVersion",label:"容器版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.toInstallDialog(t.row,!1)}}},[e._v("安装")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"70%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog&&!e.urlSelectVisible,expression:"!ifInstallDialog&&!urlSelectVisible"}]},[a("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微应用名称",prop:"appName"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.appName))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入微应用名称"},model:{value:e.dialogForm.appName,callback:function(t){e.$set(e.dialogForm,"appName",t)},expression:"dialogForm.appName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微应用类型",prop:"appType"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.appType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.appTypeArr.title},model:{value:e.dialogForm.appType,callback:function(t){e.$set(e.dialogForm,"appType",t)},expression:"dialogForm.appType"}},e._l(e.appTypeArr.options,function(e){return a("el-option",{key:e.ItemCode,attrs:{label:e.ItemName,value:e.ItemCode}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"应用中心微应用名称",prop:"appStoreId"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.appStoreId))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用中心微应用名称"},model:{value:e.dialogForm.appStoreId,callback:function(t){e.$set(e.dialogForm,"appStoreId",t)},expression:"dialogForm.appStoreId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微应用版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.version))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用版本"},model:{value:e.dialogForm.version,callback:function(t){e.$set(e.dialogForm,"version",t)},expression:"dialogForm.version"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"应用厂商"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.vendor))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入应用厂商"},model:{value:e.dialogForm.vendor,callback:function(t){e.$set(e.dialogForm,"vendor",t)},expression:"dialogForm.vendor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发布时间"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.appReleaseTime))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"datetime",placeholder:"请选择发布时间"},model:{value:e.dialogForm.appReleaseTime,callback:function(t){e.$set(e.dialogForm,"appReleaseTime",t)},expression:"dialogForm.appReleaseTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器类型"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerType))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器类型"},model:{value:e.dialogForm.containerType,callback:function(t){e.$set(e.dialogForm,"containerType",t)},expression:"dialogForm.containerType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.containerVersion))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器版本"},model:{value:e.dialogForm.containerVersion,callback:function(t){e.$set(e.dialogForm,"containerVersion",t)},expression:"dialogForm.containerVersion"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文件大小(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.fileSizeMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.dialogForm.fileSizeMB,callback:function(t){e.$set(e.dialogForm,"fileSizeMB",t)},expression:"dialogForm.fileSizeMB"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最大数据大小(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minDataDiskMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入最大数据大小"},model:{value:e.dialogForm.minDataDiskMB,callback:function(t){e.$set(e.dialogForm,"minDataDiskMB",t)},expression:"dialogForm.minDataDiskMB"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CPU核心数"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minVcpus))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入CPU核心数"},model:{value:e.dialogForm.minVcpus,callback:function(t){e.$set(e.dialogForm,"minVcpus",t)},expression:"dialogForm.minVcpus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物理接口"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.physicalInterfaces))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入物理接口"},model:{value:e.dialogForm.physicalInterfaces,callback:function(t){e.$set(e.dialogForm,"physicalInterfaces",t)},expression:"dialogForm.physicalInterfaces"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下载url"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.downloadURL))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入下载url"},on:{focus:function(t){return e.urlFocus(t,1)}},model:{value:e.dialogForm.downloadURL,callback:function(t){e.$set(e.dialogForm,"downloadURL",t)},expression:"dialogForm.downloadURL"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标url"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.logo))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入图标url"},on:{focus:function(t){return e.urlFocus(t,0)}},model:{value:e.dialogForm.logo,callback:function(t){e.$set(e.dialogForm,"logo",t)},expression:"dialogForm.logo"}})],1)],1)],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.urlSelectVisible,expression:"ifInstallDialog&&!urlSelectVisible"}]},[a("el-col",{attrs:{span:18}},[a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.deviceList,"tooltip-effect":"dark","row-key":"deviceId",border:"",lazy:"",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceId",label:"终端ID",width:"330"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),1===t.row.status?a("span",{staticStyle:{color:"orange"}},[e._v("告警")]):e._e(),e._v(" "),2===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("故障")]):e._e(),e._v(" "),3===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("离线")]):e._e(),e._v(" "),4===t.row.status?a("span",{staticStyle:{color:"#000"}},[e._v("未注册")]):e._e()]}}])})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.deviceCurrentPage,"page-sizes":[5,10,15],"page-size":e.devicePageSize,layout:"total, prev, pager, next, jumper",total:e.deviceTotal},on:{"size-change":e.deviceSizeChange,"current-change":e.deviceCurrentChange}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已选容器")])]),e._v(" "),a("div",[a("ul",e._l(e.selectedContainer,function(t,i){return a("li",{key:i},[e._v("\n                "+e._s(t.name)+"\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeSelected(t)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifGetInstalled,expression:"ifGetInstalled"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.unInstallContainer()}}},[e._v("卸载")])],1)])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.urlSelectVisible,expression:"urlSelectVisible"}]},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-d-arrow-left",round:""},on:{click:function(t){e.urlSelectVisible=!1}}},[e._v("返回")]),e._v(" "),a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.urlList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"fileName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.selectUrlOption(t.row)}}},[e._v(e._s(t.row.fileName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fileType",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileUrl",label:"URL"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.urlCurrentPage,"page-sizes":[5,10,15],"page-size":e.urlPageSize,layout:"total, prev, pager, next, jumper",total:e.urlTotal},on:{"size-change":e.urlSizeChange,"current-change":e.urlCurrentChange}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog&&!e.ifDialogDetail,expression:"!ifInstallDialog&&!ifDialogDetail"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog,expression:"!ifInstallDialog"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.ifGetInstalled,expression:"ifInstallDialog&&!ifGetInstalled"}],attrs:{type:"primary"},on:{click:function(t){return e.installApp()}}},[e._v("安 装")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.ifGetInstalled,expression:"ifInstallDialog&&!ifGetInstalled"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var C=a("C7Lr")(D,F,!1,function(e){a("TVRz")},"data-v-80cf107e",null).exports,S={name:"containerManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{name:"",type:""},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,ifDialogDetail:!1,dialogForm:{containerId:"",name:"",type:"",vendor:"",isIncrementPkg:"",version:"",url:"",fileSizeMB:"",logo:"",minVcpus:"",minDataDiskMB:"",minRamMB:"",minRootDiskMB:"",description:"",releaseTime:"",baseVersion:""},dialogRules:{containerId:[{required:!0,message:"请输入容器ID",trigger:"blur"}],name:[{required:!0,message:"请输入容器名称",trigger:"blur"}],type:[{required:!0,message:"请输入容器类型",trigger:"blur"}],releaseTime:[{required:!0,message:"请选择发布时间",trigger:"blur"}],isIncrementPkg:[{required:!0,message:"请选择是否升级",trigger:"change"}]},ifInstallDialog:!1,ifGetInstalled:!1,currentContainer:{},deviceList:[],selectedDevices:[],deviceCurrentPage:1,devicePageSize:10,deviceTotal:0,deviceParam:{current:1,size:5,sort:"id",dir:"asc"},urlSelectVisible:!1,currentUrlType:"",urlList:[{name:"test",url:123123,logo:"testlogo"},{name:"test1",url:233333,logo:"testlogo1"}],urlCurrentPage:1,urlPageSize:10,urlTotal:0}),mounted(){this.search(1)},methods:{search(e){let t={};t.name=this.searchItem.name,t.type=this.searchItem.type,this.$axios.post(baseUrl+"/admin/containers/files?pageIndex="+e+"&pageSize="+this.tableLimit,t).then(e=>{this.tableSize=e.data.totalRecord,null!==e.data.data&&e.data.data.length>0?(e.data.data.forEach(e=>{Object.keys(e.containerFiles[0]).forEach(t=>{e[t]=e.containerFiles[0][t]})}),this.tableData=e.data.data):this.tableData=[]}).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.ifInstallDialog=!1,this.dialogTitle="新增容器",this.ifDialogDetail=!1,this.dialogForm={},this.dialogFormVisible=!0},detailRow(e){this.ifInstallDialog=!1,this.dialogTitle="容器详细信息",this.ifDialogDetail=!0,this.dialogForm=Object.assign({},e),this.dialogFormVisible=!0},editRow(e){this.ifInstallDialog=!1,this.dialogTitle="编辑终端",this.ifDialogDetail=!1,this.dialogForm=Object.assign({},e),this.dialogFormVisible=!0},delRow(e){this.$confirm("是否确定删除     '"+e.name+"'     该容器?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.urlSelectVisible?this.$message({message:"请选择容器url后，填写完整的容器信息，进行提交",type:"warning"}):this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1){let t={containerId:this.dialogForm.containerId,containerName:this.dialogForm.name,containerType:Number(this.dialogForm.type),isIncrementPkg:!0,releaseTime:this.dialogForm.releaseTime,version:this.dialogForm.version,bseVersion:this.dialogForm.baseVersion,developer:this.dialogForm.vendor,url:this.dialogForm.url,description:this.dialogForm.description,logo:this.dialogForm.logo,fileSizeMB:Number(this.dialogForm.fileSizeMB),minVcpus:Number(this.dialogForm.minVcpus),minDataDiskMB:Number(this.dialogForm.minDataDiskMB),minRamMB:Number(this.dialogForm.minRamMB),minRootDiskMB:Number(this.dialogForm.minRootDiskMB)};"false"===this.dialogForm.isIncrementPkg&&(t.isIncrementPkg=!1);let a={headers:{"Content-Type":"application/json"}};this.$axios.post(baseUrl+"/admin/containers/add",t,a).then(t=>{t.data.success?(this.dialogFormVisible=!1,this.$message({message:"添加成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)):this.$message({message:t.data.errmsg,type:"error"})}).catch(e=>{console.log(e)})}})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},toInstallDialog(e,t){this.dialogTitle=t?"已安装设备":"安装容器",this.ifGetInstalled=t,this.currentContainer=Object.assign({},e),this.deviceList=[],this.selectedDevices=[],this.ifInstallDialog=!0,this.getDeviceDialog(1),this.dialogFormVisible=!0},getDeviceDialog(e){this.ifGetInstalled?this.$axios.post(baseUrl+"/admin/containers/containerdeployinfo?containerDeployStatus=1&deviceSort=&pageSize="+this.devicePageSize+"&pageIndex="+e+"&name="+this.currentContainer.name,{}).then(e=>{null!==e.data.data.devices&&e.data.data.devices.length>0&&(this.deviceList=[],e.data.data.devices.forEach(e=>{1===e.containerDeployStatus.deployStatus&&this.deviceList.push(e.deviceQueryResult)})),this.deviceTotal=e.data.data.totalRecord,this.ifInstallDialog=!0}).catch(e=>{console.log(e)}):this.$axios.post(baseUrl+"/admin/terminal/devices/info?pageSize="+this.devicePageSize+"&pageIndex="+e,{}).then(e=>{this.deviceTotal=e.data.data.totalRecord,this.deviceList=e.data.data.data,this.ifInstallDialog=!0}).catch(e=>{console.log(e)})},installContainer(){let e="",t=[];this.selectedDevices.length>0?(this.selectedDevices.forEach(a=>{e+=a.name+",";let i={containerInfo:{incrementPkg:this.currentContainer.incrementPkg,name:this.currentContainer.name,releaseTime:this.currentContainer.releaseTime,releaseUser:this.currentContainer.releaseUser,type:this.currentContainer.type,vendor:this.currentContainer.vendor,version:this.currentContainer.version},containerconfig:{containerName:this.currentContainer.name,cpuCores:0,description:this.currentContainer.description,diskSizeMB:0,memoryMB:0,openServices:"",physicalInterfaces:"",volumeSizeMB:0},deviceId:a.deviceId};t.push(i)}),this.$confirm("是否确定在设备——'"+e+"'中安装容器'"+this.currentContainer.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post(baseUrl+"/admin/containers/deploy",{containerlist:t,update:!1},{headers:{"Content-Type":"application/json"}}).then(e=>{"0"===e.data.errcode?(this.$message({type:"success",message:"已完成安装"}),this.dialogFormVisible=!1):this.$message({type:"error",message:"安装失败,"+e.data.errmsg})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消安装"})})):this.$message({message:"请选择设备进行安装",type:"warning"})},unInstallContainer(){let e="",t=[];this.selectedDevices.length>0?(this.selectedDevices.forEach(a=>{e+=a.name+",";let i={containerNames:[this.currentContainer.name],deviceId:a.deviceId};t.push(i)}),this.$confirm("是否确定卸载设备——'"+e+"'中的容器'"+this.currentContainer.name+"'?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post(baseUrl+"/admin/containers/uninstall",t,{headers:{"Content-Type":"application/json"}}).then(e=>{e.data.success?(this.$message({type:"success",message:"已完成卸载"}),this.getDeviceDialog(1)):this.$message({type:"error",message:"卸载失败"})}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消卸载"})})):this.$message({message:"请选择设备进行卸载",type:"warning"})},handleSelectionChange(e){this.selectedDevices=e},removeSelected(e){this.selectedDevices.forEach((t,a)=>{if(t.name===e.name)return this.selectedDevices.splice(a,1),this.$refs.multipleTable.toggleRowSelection(t,!1),!1})},deviceSizeChange(e){this.devicePageSize=e,this.getDeviceDialog(1)},deviceCurrentChange(e){this.getDeviceDialog(e)},urlFocus(e,t){console.info(e),this.currentUrlType=t,this.getUrls(1),this.urlSelectVisible=!0},getUrls(e){this.$axios.get(baseUrl+"/admin/file/list?pageSize="+this.urlPageSize+"&pageIndex="+e+"&fileType="+this.currentUrlType).then(e=>(this.urlTotal=e.data.data.total,this.urlList=e.data.data.records,!1)).catch(e=>{console.log(e)})},selectUrlOption(e){2===this.currentUrlType?this.dialogForm.url=e.fileUrl:this.dialogForm.logo=e.fileUrl,this.urlSelectVisible=!1},urlSizeChange(e){this.urlPageSize=e,this.getUrls(1)},urlCurrentChange(e){this.getUrls(e)},dateFormat(e,t,a,i){const l=e[t.property];if(null!=l){const e=new Date(parseInt(l.replace("/Date(","").replace(")/",""),10));return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"containerManage"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"容器名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入容器名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"容器类型",prop:"type"}},[a("el-input",{attrs:{placeholder:"请输入容器类型"},model:{value:e.searchItem.type,callback:function(t){e.$set(e.searchItem,"type",t)},expression:"searchItem.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"containerTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"containerName",width:"130",label:"容器名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"容器类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vendor",label:"开发商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"容器版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"baseVersion",label:"基础包版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isIncrementPkg",label:"是否升级包"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isIncrementPkg?e._e():a("span",[e._v("否")]),e._v(" "),t.row.isIncrementPkg?a("span",[e._v("是")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"releaseTime",width:"130",label:"发布时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",width:"150",label:"说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.toInstallDialog(t.row,!1)}}},[e._v("安装")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.toInstallDialog(t.row,!0)}}},[e._v("查询已安装设备")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"75%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog&&!e.urlSelectVisible,expression:"!ifInstallDialog&&!urlSelectVisible"}]},[a("el-form",{ref:"dialogForm",staticClass:"acForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"150px"}},[e.ifDialogDetail?e._e():a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器ID",prop:"containerId"}},[a("el-input",{attrs:{placeholder:"请输入容器ID"},model:{value:e.dialogForm.containerId,callback:function(t){e.$set(e.dialogForm,"containerId",t)},expression:"dialogForm.containerId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入容器名称"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1)],1)],1),e._v(" "),e.ifDialogDetail?a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"容器名称",prop:"name"}},[a("span",[e._v(e._s(e.dialogForm.name))])])],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器类型",prop:"type"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.type))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器类型"},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发布时间",prop:"releaseTime"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.releaseTime))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"datetime",placeholder:"请选择发布时间"},model:{value:e.dialogForm.releaseTime,callback:function(t){e.$set(e.dialogForm,"releaseTime",t)},expression:"dialogForm.releaseTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否升级包",prop:"isIncrementPkg"}},[e.ifDialogDetail&&e.dialogForm.isIncrementPkg?a("span",[e._v("是")]):e._e(),e._v(" "),e.ifDialogDetail&&!e.dialogForm.isIncrementPkg?a("span",[e._v("否")]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-radio",{attrs:{label:"false"},model:{value:e.dialogForm.isIncrementPkg,callback:function(t){e.$set(e.dialogForm,"isIncrementPkg",t)},expression:"dialogForm.isIncrementPkg"}},[e._v("否")]),e._v(" "),e.ifDialogDetail?e._e():a("el-radio",{attrs:{label:"true"},model:{value:e.dialogForm.isIncrementPkg,callback:function(t){e.$set(e.dialogForm,"isIncrementPkg",t)},expression:"dialogForm.isIncrementPkg"}},[e._v("是")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开发商"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.vendor))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入开发商"},model:{value:e.dialogForm.vendor,callback:function(t){e.$set(e.dialogForm,"vendor",t)},expression:"dialogForm.vendor"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.version))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器版本"},model:{value:e.dialogForm.version,callback:function(t){e.$set(e.dialogForm,"version",t)},expression:"dialogForm.version"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"基础版本"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.baseVersion))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入基础版本"},model:{value:e.dialogForm.baseVersion,callback:function(t){e.$set(e.dialogForm,"baseVersion",t)},expression:"dialogForm.baseVersion"}})],1)],1)],1),e._v(" "),e.ifDialogDetail?e._e():a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容器url"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.url))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入容器url"},on:{focus:function(t){return e.urlFocus(t,2)}},model:{value:e.dialogForm.url,callback:function(t){e.$set(e.dialogForm,"url",t)},expression:"dialogForm.url"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CPU核心数"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minVcpus))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入CPU核心数"},model:{value:e.dialogForm.minVcpus,callback:function(t){e.$set(e.dialogForm,"minVcpus",t)},expression:"dialogForm.minVcpus"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文件大小(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.fileSizeMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.dialogForm.fileSizeMB,callback:function(t){e.$set(e.dialogForm,"fileSizeMB",t)},expression:"dialogForm.fileSizeMB"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最大数据大小(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minDataDiskMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入最大数据大小"},model:{value:e.dialogForm.minDataDiskMB,callback:function(t){e.$set(e.dialogForm,"minDataDiskMB",t)},expression:"dialogForm.minDataDiskMB"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最小内存(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minRamMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入最小内存"},model:{value:e.dialogForm.minRamMB,callback:function(t){e.$set(e.dialogForm,"minRamMB",t)},expression:"dialogForm.minRamMB"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占用Root盘大小(MB)"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.minRootDiskMB))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入占用Root盘大小"},model:{value:e.dialogForm.minRootDiskMB,callback:function(t){e.$set(e.dialogForm,"minRootDiskMB",t)},expression:"dialogForm.minRootDiskMB"}})],1)],1)],1),e._v(" "),e.ifDialogDetail?e._e():a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图标url"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.logo))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{attrs:{placeholder:"请输入图标url"},on:{focus:function(t){return e.urlFocus(t,0)}},model:{value:e.dialogForm.logo,callback:function(t){e.$set(e.dialogForm,"logo",t)},expression:"dialogForm.logo"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{height:"100px"},attrs:{span:24}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"简要说明"}},[e.ifDialogDetail?a("span",[e._v(e._s(e.dialogForm.description))]):e._e(),e._v(" "),e.ifDialogDetail?e._e():a("el-input",{staticStyle:{height:"100px"},attrs:{type:"textarea"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.urlSelectVisible,expression:"ifInstallDialog&&!urlSelectVisible"}]},[a("el-col",{attrs:{span:18}},[a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.deviceList,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceId",label:"终端ID",width:"320"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"终端名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceType",label:"设备类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"终端状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),1===t.row.status?a("span",{staticStyle:{color:"orange"}},[e._v("告警")]):e._e(),e._v(" "),2===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("故障")]):e._e(),e._v(" "),3===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("离线")]):e._e(),e._v(" "),4===t.row.status?a("span",{staticStyle:{color:"#000"}},[e._v("未注册")]):e._e()]}}])})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.deviceCurrentPage,"page-sizes":[5,10,15],"page-size":e.devicePageSize,layout:"total, prev, pager, next, jumper",total:e.deviceTotal},on:{"size-change":e.deviceSizeChange,"current-change":e.deviceCurrentChange}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已选设备")])]),e._v(" "),a("div",[a("ul",e._l(e.selectedDevices,function(t,i){return a("li",{key:i},[e._v("\n                "+e._s(t.deviceId)+"——\n                "+e._s(t.name)+"\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeSelected(t)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifGetInstalled,expression:"ifGetInstalled"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.unInstallContainer()}}},[e._v("卸载")])],1)])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.urlSelectVisible,expression:"urlSelectVisible"}]},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-d-arrow-left",round:""},on:{click:function(t){e.urlSelectVisible=!1}}},[e._v("返回")]),e._v(" "),a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.urlList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"fileName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.selectUrlOption(t.row)}}},[e._v(e._s(t.row.fileName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fileType",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileUrl",label:"URL"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.urlCurrentPage,"page-sizes":[5,10,15],"page-size":e.urlPageSize,layout:"total, prev, pager, next, jumper",total:e.urlTotal},on:{"size-change":e.urlSizeChange,"current-change":e.urlCurrentChange}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog&&!e.ifDialogDetail,expression:"!ifInstallDialog&&!ifDialogDetail"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifInstallDialog,expression:"!ifInstallDialog"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.ifGetInstalled,expression:"ifInstallDialog&&!ifGetInstalled"}],attrs:{type:"primary"},on:{click:function(t){return e.installContainer()}}},[e._v("安 装")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ifInstallDialog&&!e.ifGetInstalled,expression:"ifInstallDialog&&!ifGetInstalled"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var k=a("C7Lr")(S,I,!1,function(e){a("ROoW")},"data-v-38cd1f1f",null).exports,T={name:"appList",data:()=>({activeTab:"appList",menuId:"",username:null,commonSearch:"",testScore:3.8,areaTypeList:[{id:0,name:"工业1"},{id:1,name:"工业2"},{id:2,name:"工业3"},{id:3,name:"工业4"}],developersList:[{id:0,name:"开发商a"},{id:1,name:"开发商b"},{id:2,name:"开发商c"},{id:3,name:"开发商d"}],levelList:[{id:0,name:"一级"},{id:1,name:"二级"},{id:2,name:"三级"},{id:3,name:"四级"}],appList:[{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10},{appName:"CATIA",creator:"开发商a",downCount:10}],currentPage:1,pageSize:10,total:0,fileCurrentPage:1,filePageSize:10,fileTotal:0,active:-1,active_b:-1,active_c:-1,param:{current:1,size:5,sort:"id",dir:"asc"},fileParam:{current:1,size:5,sort:"id",dir:"asc"},searchFileItem:"",fileType:[],fileList:[],selectedFileType:""}),mounted(){this.initPage(),this.searchFile(1),this.getFileType()},methods:{getAreaType(){this.$axios.get(baseUrl+"").then(e=>{e.data.success&&(this.areaTypeList=e.data.data)}).catch(e=>{console.log(e)})},getIndustryType(){this.$axios.get(baseUrl+"").then(e=>{e.data.data.length>0&&(this.developersList=e.data.data)}).catch(e=>{console.log(e)})},getPayType(){this.$axios.get(baseUrl+"").then(e=>{e.data.data.length>0&&(this.levelList=e.data.data)}).catch(e=>{console.log(e)})},getFileType(){this.$axios.get(baseUrl+"/admin/file/types").then(e=>{e.data.success&&(this.fileType=e.data.data)}).catch(e=>{console.log(e)})},getSoft(e,t){this.active=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post(baseUrl+"",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},getSoft_b(e,t){this.active_b=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post(baseUrl+"",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},getSoft_c(e,t){this.active_c=t,null!==sessionStorage.getItem("username")&&(this.param.username=sessionStorage.getItem("username")),this.param.appName=this.searchCommon,this.param.softMenu=this.menuId,this.param.softCategory=e,this.$axios.post(baseUrl+"",this.param).then(e=>{this.total=e.data.data.total,this.currentPage=e.data.data.current,this.pageSize=e.data.data.size,this.appList=e.data.data.records}).catch(e=>{console.log(e)})},initPage(){this.total=this.appList.length},handleSizeChange(e){this.pageSize=e,this.param={current:1,size:e,sort:"id",dir:"asc"},this.getSoft("")},handleCurrentChange(e){this.param={current:e,size:this.pageSize,sort:"id",dir:"asc"},this.getSoft("")},handleClick(){},toDetail(e){this.$emit("getObj",e)},downSoft(e){if(null===sessionStorage.getItem("username"))this.$message({message:"请登录用户,进行获取",type:"warning"});else{let t={username:sessionStorage.getItem("username"),softId:e};this.$axios.get(baseUrl+"/soft-auth/soft-order",{params:t}).then(e=>{this.$message({message:"已成功获取该服务",type:"success"}),this.getSoft("")}).catch(e=>{console.log(e)})}},searchFile(e){let t={pageIndex:e,pageSize:this.filePageSize};""!==this.searchFileItem&&(t.fileId=this.searchFileItem),""!==this.selectedFileType&&(t.fileType=this.selectedFileType),this.$axios.get(baseUrl+"/admin/file/list?"+this.$qs.stringify(t)).then(e=>{this.fileTotal=e.data.data.total,this.fileList=e.data.data.records}).catch(e=>{})},fileSizeChange(e){this.filePageSize=e,this.searchFile(1)},fileCurrentChange(e){this.searchFile(e)},fileTypeSelect(e,t){this.selectedFileType=e,this.searchFile(1)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appList"}},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[i("el-tab-pane",{attrs:{label:"应用商店",name:"appList"}},[i("el-row",{staticClass:"searchTypes"},[i("el-row",[i("el-col",{attrs:{span:22,offset:1}},[i("el-card",{staticClass:"box-card",style:{padding:"0px 20px"}},[i("el-row",{staticClass:"type"},[i("el-col",{attrs:{span:3}},[i("span",[e._v("领域分类：")])]),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.areaTypeList,function(t,a){return i("el-col",{key:a,attrs:{span:3}},[i("el-button",{class:{active:e.active==a},attrs:{type:"text"},on:{click:function(i){return e.getSoft(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2),e._v(" "),i("el-row",{staticClass:"type"},[i("el-col",{attrs:{span:3}},[i("span",[e._v("开发商：")])]),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.developersList,function(t,a){return i("el-col",{key:a,attrs:{span:3}},[i("el-button",{class:{active:e.active_b==a},attrs:{type:"text"},on:{click:function(i){return e.getSoft_b(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2),e._v(" "),i("el-row",{staticClass:"type"},[i("el-col",{attrs:{span:3}},[i("span",[e._v("应用级别：")])]),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft("")}}},[e._v("全部")])],1),e._v(" "),e._l(e.levelList,function(t,a){return i("el-col",{key:a,attrs:{span:3}},[i("el-button",{class:{active:e.active_c==a},attrs:{type:"text"},on:{click:function(i){return e.getSoft_c(t.id,a)}}},[e._v(e._s(t.name))])],1)})],2)],1)],1)],1)],1),e._v(" "),i("el-row",{staticClass:"searchTables"},[i("el-col",{attrs:{span:22,offset:1}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",staticStyle:{height:"10px"},attrs:{slot:"header"},slot:"header"},[i("el-col",{attrs:{span:2,offset:1}},[i("span",[e._v("排序：")])]),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("默认")])],1),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  下载量\n                  "),i("i",{staticClass:"el-icon-top"})])],1),e._v(" "),i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  上架时间\n                  "),i("i",{staticClass:"el-icon-top"})])],1),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getSoft()}}},[e._v("\n                  评分\n                  "),i("i",{staticClass:"el-icon-top"})])],1)],1),e._v(" "),i("div",{staticClass:"softContent"},[e._l(e.appList,function(t,l){return i("div",{key:l},[i("el-row",[i("el-col",{staticClass:"softImg",attrs:{span:2}},[i("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:function(a){return e.toDetail(t)}}},[""===t.softIcon||null===t.softIcon||void 0===t.softIcon?i("img",{attrs:{src:a("KDfe"),height:"80",width:"80"}}):e._e(),e._v(" "),""!==t.softIcon&&null!==t.softIcon&&void 0!==t.softIcon?i("img",{attrs:{src:"data:image/jpg;base64,"+t.softIcon,height:"80",width:"80"}}):e._e()])],1),e._v(" "),i("el-col",{staticClass:"softInfo",attrs:{span:5,offset:1}},["1"!==t.softCategory3Id?i("el-row",[null!==e.username?i("div",{staticStyle:{cursor:"pointer"}},[i("h3",{staticClass:"appName"},[e._v(e._s(t.appName))])]):e._e(),e._v(" "),null===e.username?i("div",[i("h3",{staticClass:"appName"},[e._v(e._s(t.appName))])]):e._e()]):e._e(),e._v(" "),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("span",{staticClass:"company"},[e._v("开发商："+e._s(t.creator))])])],1),e._v(" "),i("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:6,offset:1}},[i("el-row",[i("el-col",{attrs:{span:6}},[e._v("评分：")]),e._v(" "),i("el-col",{attrs:{span:16}},[i("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.testScore,callback:function(t){e.testScore=t},expression:"testScore"}})],1)],1),e._v(" "),i("el-row",{staticStyle:{"margin-top":"15px"}},[i("span",{staticClass:"downCount"},[e._v("下载量"+e._s(t.downCount)+"件")])])],1),e._v(" "),i("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:3,offset:1}},["true"===t.auth?i("el-row",[i("el-button",{attrs:{type:"button",size:"medium",disabled:""}},[e._v("已获取")])],1):e._e(),e._v(" "),"false"===t.auth||void 0===t.auth?i("el-row",[i("el-button",{attrs:{type:"button",size:"medium"},on:{click:function(a){return e.downSoft(t.id)}}},[e._v("点击获取")])],1):e._e()],1)],1),e._v(" "),i("el-divider")],1)}),e._v(" "),i("el-row",{staticStyle:{"text-align":"center"}},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15],"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],2)])],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"本地文件库",name:"fileList"}},[i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("el-row",[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose,select:e.fileTypeSelect}},e._l(e.fileType,function(t,a){return i("div",{key:a},[t.child?e._e():i("el-menu-item",{attrs:{index:t.itemCode}},[i("i",{staticClass:"el-icon-menu"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.itemName))])]),e._v(" "),t.child?i("el-submenu",{attrs:{index:t.itemCode}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-location"}),e._v(" "),i("span",[e._v(e._s(t.itemName))])]),e._v(" "),e._l(t.child,function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.itemCode}},[e._v(e._s(t.itemName))])})],2):e._e()],1)}),0)],1)],1),e._v(" "),i("el-container",[i("el-header",[i("el-row",[i("el-col",{attrs:{span:16}},[i("el-input",{attrs:{placeholder:"请输入文件ID"},model:{value:e.searchFileItem,callback:function(t){e.searchFileItem=t},expression:"searchFileItem"}})],1),e._v(" "),i("el-col",{attrs:{span:2,offset:1}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchFile(1)}}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-main",[i("el-row",{staticStyle:{"max-height":"500px"}},[e._l(e.fileList,function(t,l){return i("el-col",{key:l,staticStyle:{padding:"5px"},attrs:{span:4,offset:1}},[i("el-card",{staticClass:"box-card fileCard",attrs:{"body-style":{padding:"10px"}}},[i("el-row",[i("img",{attrs:{src:a("KDfe"),height:"100%",width:"100%"}})]),e._v(" "),i("el-row",[i("h5",[e._v(e._s(t.fileName))])]),e._v(" "),i("el-row",[i("el-col",{attrs:{span:11,offset:13}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-download"})]),e._v(" "),i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-delete-solid"})])],1)],1)],1)],1)}),e._v(" "),i("el-col",{staticStyle:{padding:"5px"},attrs:{span:4,offset:1}},[i("el-card",{staticClass:"box-card fileCard",attrs:{"body-style":{padding:"30px"}}},[i("el-row",{staticStyle:{height:"80px","text-align":"center"}},[i("el-upload",{attrs:{action:"",limit:1}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"50px"}})])],1)],1),e._v(" "),i("el-row",[i("h5",[e._v("添加新服务")])])],1)],1)],2),e._v(" "),i("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-pagination",{attrs:{"current-page":e.fileCurrentPage,"page-sizes":[5,10,15],"page-size":e.filePageSize,layout:"total, prev, pager, next, jumper",total:e.fileTotal},on:{"size-change":e.fileSizeChange,"current-change":e.fileCurrentChange}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=a("C7Lr")(T,z,!1,function(e){a("syAP")},"data-v-178af3a4",null).exports,N={name:"alarmPush",data:()=>({alarmSize:0,alarmLimit:10,searchItem:{esn:"",level:"",time:""},levelArr:{title:"请选择危险等级",options:[{value:"1",label:"一级"},{value:"2",label:"二级"},{value:"3",label:"三级"}]},alarmList:[{name:"报警名称",level:"1",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"2",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"3",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"4",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"1",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"2",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"},{name:"报警名称",level:"4",esn:"ADS123GSDF123G35WDDD",time:"2019年8月15日 17:30:13",content:"报警详细内容"}],dialogForm:{name:"报警名称",esn:"ESN设备",time:"2019年8月15日 17:30:13",level:"一级",content:"报警详细内容"},dialogFormVisible:!1}),mounted(){this.alarmSize=this.alarmList.length},methods:{search(e){},reset(e){this.$refs[e].resetFields()},showDetail(e){this.dialogForm=e,this.dialogFormVisible=!0},handleSizeChange(e){this.alarmLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"alarmPush"}},[a("el-row",[a("el-form",{ref:"searchItem",attrs:{inline:!0,model:e.searchItem}},[a("el-form-item",{attrs:{label:"设备ESN"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备ESN"},model:{value:e.searchItem.terminalId,callback:function(t){e.$set(e.searchItem,"terminalId",t)},expression:"searchItem.terminalId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"危险等级"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:e.levelArr.title},model:{value:e.searchItem.level,callback:function(t){e.$set(e.searchItem,"level",t)},expression:"searchItem.level"}},e._l(e.levelArr.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"告警时间"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchItem.time,callback:function(t){e.$set(e.searchItem,"time",t)},expression:"searchItem.time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",{staticStyle:{"max-height":"500px",overflow:"auto"}},e._l(e.alarmList,function(t,i){return a("el-row",{key:i,staticClass:"alarmRow",class:"level"+t.level},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showDetail(t)}}},[a("h4",[e._v(e._s(t.name))])])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v(e._s(t.content))])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("span",[e._v("报警等级："+e._s(t.level))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("span",[e._v("设备Esn："+e._s(t.esn))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("span",[e._v("告警时间："+e._s(t.time))])])],1)}),1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.alarmLimit,layout:"total, sizes, prev, pager, next",total:e.alarmSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"告警信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"告警名称"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.name))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"ESN设备"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.esn))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警时间"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.time))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警等级"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.level))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"报警信息"}},[a("el-col",{attrs:{span:15}},[a("span",[e._v(e._s(e.dialogForm.content))])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},staticRenderFns:[]};var R=a("C7Lr")(N,B,!1,function(e){a("dLbT")},"data-v-864c6b4e",null).exports,L={name:"userManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],searchItem:{userName:"",tenantId:""},orgArr:{title:"请选择所属机构",options:[{value:"1",label:"机构一"},{value:"2",label:"机构二"}]},tenantArr:{title:"请选择租户级别",options:[{value:"1",label:"一级"},{value:"2",label:"二级"}]},tableData:[],dialogTitle:"新增",dialogFormVisible:!1,dialogForm:{username:"",passwd:"",tenantid:"",usertype:"",status:""},dialogRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"change"}],tenantid:[{required:!0,message:"请输入租户ID",trigger:"change"}],usertype:[{required:!0,message:"请选择用户类型",trigger:"change"}],status:[{required:!0,message:"请选择用户状态",trigger:"change"}]},ifUpdate:!1}),mounted(){this.search(1)},methods:{search(e){let t={};t.pageSize=this.tableLimit,t.pageIndex=e,""!==this.searchItem.userName&&(t.userName=this.searchItem.userName),""!==this.searchItem.tenantId&&(t.tenantId=this.searchItem.tenantId),this.$axios.get(baseUrl+"/admin/user/list?"+this.$qs.stringify(t)).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$nextTick(()=>{this.$refs[e].resetFields()})},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){this.dialogTitle="新增用户",this.dialogFormVisible=!0,this.$nextTick(()=>{this.$refs[e].resetFields()})},editRow(e){this.dialogTitle="编辑用户",this.dialogForm=Object.assign({},e),this.ifUpdate=!0,this.dialogFormVisible=!0},delRow(e){console.info(e),this.$confirm("是否确定删除该租户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.delete(baseUrl+"/admin/user/remove?userId="+e.uid).then(e=>{this.$message({type:"success",message:"删除成功!"}),this.search(1)}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1)this.$axios.post(baseUrl+"/admin/user/save?"+this.$qs.stringify(this.dialogForm)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"成功添加",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)});else{let t={};Object.keys(this.dialogForm).forEach(e=>{"createTime"!==e&&"deleteTime"!==e&&(t[e]=this.dialogForm[e])}),this.$axios.put(baseUrl+"/admin/user/update?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"修改成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}})},resetPwd(e){},disableUser(e){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userManage"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.searchItem.userName,callback:function(t){e.$set(e.searchItem,"userName",t)},expression:"searchItem.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"租户ID",prop:"tenantId"}},[a("el-input",{attrs:{placeholder:"请输入租户ID"},model:{value:e.searchItem.tenantId,callback:function(t){e.$set(e.searchItem,"tenantId",t)},expression:"searchItem.tenantId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"userTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"username",width:"120",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usertype",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.usertype?a("span",[e._v("管理员")]):e._e(),e._v(" "),0===t.row.usertype?a("span",[e._v("普通")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantid",label:"上级租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),8===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("停用")]):e._e(),e._v(" "),9===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"options",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.disableUser(t.row)}}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.resetPwd(t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1,10)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新增")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[a("el-col",{attrs:{span:15}},[e.ifUpdate?e._e():a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.dialogForm.username,callback:function(t){e.$set(e.dialogForm,"username",t)},expression:"dialogForm.username"}}),e._v(" "),e.ifUpdate?a("span",[e._v(e._s(e.dialogForm.username))]):e._e()],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"passwd"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.dialogForm.passwd,callback:function(t){e.$set(e.dialogForm,"passwd",t)},expression:"dialogForm.passwd"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户ID:",prop:"tenantid"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户ID"},model:{value:e.dialogForm.tenantid,callback:function(t){e.$set(e.dialogForm,"tenantid",t)},expression:"dialogForm.tenantid"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户类型",prop:"usertype"}},[a("el-col",{attrs:{span:15}},[a("el-radio",{attrs:{label:"0"},model:{value:e.dialogForm.usertype,callback:function(t){e.$set(e.dialogForm,"usertype",t)},expression:"dialogForm.usertype"}},[e._v("普通")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.usertype,callback:function(t){e.$set(e.dialogForm,"usertype",t)},expression:"dialogForm.usertype"}},[e._v("管理员")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("停用")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("删除")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var E=a("C7Lr")(L,U,!1,function(e){a("EnvZ")},"data-v-5838c7e1",null).exports,M={name:"userManage",data:()=>({tableSize:0,tableLimit:10,selectedRow:[],orgArr:{title:"请选择所属机构",options:[{value:"1",label:"机构一"},{value:"2",label:"机构二"}]},tenantArr:{title:"请选择租户级别",options:[{value:"1",label:"一级"},{value:"2",label:"二级"}]},tableData:[],areaData:[],ifAreaChild:!1,selectedOrg:"",dialogTitle:"新增",dialogFormVisible:!1,dialogForm:{tenantName:"",status:""},dialogRules:{tenantName:[{required:!0,message:"请输入租户名称",trigger:"blur"}],status:[{required:!0,message:"请选择租户状态",trigger:"blur"}]},userData:[],userSelectedList:[{id:0,username:"用户1",time:"2019年8月20日"},{id:1,username:"用户2",time:"2019年8月20日"},{id:2,username:"用户3",time:"2019年8月20日"}],dialogAddUser:!1,searchUserItem:"",userLimit:10,userCurrentPage:1,userPageSize:10,userTotal:0}),mounted(){this.search(1)},methods:{search(e){this.$axios.get(baseUrl+"/admin/tenant/list",{pageSize:this.userLimit,pageIndex:e}).then(e=>{this.tableSize=e.data.data.total,this.tableData=e.data.data.records}).catch(e=>{console.log(e)})},reset(e){this.$nextTick(()=>{this.$refs[e].resetFields()})},getRowDatas(e){this.selectedRow=e,console.info(e)},add(e){""===this.selectedOrg?this.$message({message:"请先选择上级租户",type:"warning"}):(this.dialogTitle="新增租户",this.dialogFormVisible=!0,this.$nextTick(()=>{this.$refs[e].resetFields()}))},editRow(){""===this.selectedOrg?this.$message({message:"请先选择上级租户",type:"warning"}):1===this.selectedRow.length?(this.dialogTitle="编辑租户",this.dialogForm=Object.assign({},this.selectedRow[0]),this.dialogFormVisible=!0):this.$message({message:"请选择单条数据进行操作",type:"warning"})},delRow(){1===this.selectedRow.length?this.$confirm("是否确定删除该租户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.delete(baseUrl+"/admin/tenant/remove?tenantId="+this.selectedRow[0].tenantId).then(e=>{this.$message({type:"success",message:"删除成功!"}),this.search(1)}).catch(e=>{console.log(e)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请选择单条数据进行操作",type:"warning"})},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;if(this.dialogTitle.indexOf("新增")>-1){let t={};t.parentId=this.selectedOrg,Object.keys(this.dialogForm).forEach(e=>{t[e]=this.dialogForm[e]}),this.$axios.post(baseUrl+"/admin/tenant/save?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"成功添加",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}else{let t={};t.parentId=this.selectedOrg,Object.keys(this.dialogForm).forEach(e=>{"tenantId"!==e&&"tenantName"!==e&&"status"!==e&&"description"!==e||(t[e]=this.dialogForm[e])}),this.$axios.put(baseUrl+"/admin/tenant/update?"+this.$qs.stringify(t)).then(t=>{this.dialogFormVisible=!1,this.$message({message:"修改成功",type:"success"}),this.$refs[e].resetFields(),this.search(1)}).catch(e=>{console.log(e)})}})},orgSelect(e,t){this.selectedOrg=e,t.length>1?this.ifAreaChild=!0:this.ifAreaChild=!1},removeRow(){},addUserDialog(){1===this.selectedRow.length?(this.searchUser(1),this.dialogAddUser=!0):this.$message({message:"请选择单条数据进行操作",type:"warning"})},searchUser(e){let t={};t.pageSize=this.tableLimit,t.pageIndex=e,""!==this.searchUserItem&&(t.userName=this.searchUserItem),this.$axios.get(baseUrl+"/admin/user/list?"+this.$qs.stringify(t)).then(e=>{this.userTotal=e.data.data.total,this.userData=e.data.data.records}).catch(e=>{console.log(e)})},submitAddUser(){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},userSizeChange(e){this.userPageSize=e,this.searchUser(1)},userCurrentChange(e){this.searchUser(value)},dialogSelectionChange(){},handleOpen(e,t){console.log(e)},handleClose(e,t){console.log(e,t)}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userManage"}},[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-row",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose,select:e.orgSelect}},e._l(e.areaData,function(t,i){return a("div",{key:i},[t.child?e._e():a("el-menu-item",{attrs:{index:t.index}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),t.child?a("el-submenu",{attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.child,function(t,i){return a("el-menu-item",{key:i,attrs:{index:t.index}},[e._v(e._s(t.name))])})],2):e._e()],1)}),0)],1)],1),e._v(" "),a("el-main",[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.ifAreaChild,expression:"!ifAreaChild"}],attrs:{type:"primary",round:""},on:{click:function(t){return e.add("dialogForm")}}},[e._v("新建子租户")])],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.editRow("dialogForm")}}},[e._v("变更租户名")])],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"danger",round:""},on:{click:function(t){return e.delRow()}}},[e._v("删除当前租户")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("div",[a("el-table",{staticClass:"userTable",attrs:{data:e.tableData,border:"",size:"medium"},on:{"selection-change":e.getRowDatas}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantName",width:"120",label:"租户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentId",label:"上级租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"租户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),8===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("停用")]):e._e(),e._v(" "),9===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"简要说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"options",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.removeRow(t.row)}}},[e._v("移出本租户")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-button-group",[a("el-button",{attrs:{type:"success",round:"",size:"small",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1)}}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.addUserDialog()}}},[e._v("添加用户")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"租户名称",prop:"name"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户名称"},model:{value:e.dialogForm.tenantName,callback:function(t){e.$set(e.dialogForm,"tenantName",t)},expression:"dialogForm.tenantName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户状态",prop:"status"}},[a("el-col",{attrs:{span:15}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("停用")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[e._v("删除")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"租户描述"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入租户描述"},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogAddUser,width:"65%"},on:{"update:visible":function(t){e.dialogAddUser=t}}},[a("el-row",[a("el-col",{attrs:{span:16,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户池")])]),e._v(" "),a("div",[a("el-container",[a("el-header",[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入内容进行查询"},model:{value:e.searchUserItem,callback:function(t){e.searchUserItem=t},expression:"searchUserItem"}})],1),e._v(" "),a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchUser()}}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-main",[a("el-row",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.userData,"tooltip-effect":"dark"},on:{"selection-change":e.dialogSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"username",width:"120",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usertype",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.usertype?a("span",[e._v("管理员")]):e._e(),e._v(" "),0===t.row.usertype?a("span",[e._v("普通")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantid",label:"上级租户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("正常")]):e._e(),e._v(" "),8===t.row.status?a("span",{staticStyle:{color:"gray"}},[e._v("停用")]):e._e(),e._v(" "),9===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.userCurrentPage,"page-sizes":[5,10,15],"page-size":e.userPageSize,layout:"total, prev, pager, next, jumper",total:e.userTotal},on:{"size-change":e.userSizeChange,"current-change":e.userCurrentChange}})],1)],1)],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已选用户")])]),e._v(" "),a("div",[a("ul",e._l(e.userSelectedList,function(t,i){return a("li",{key:i},[e._v("\n                "+e._s(t.username)+"\n                "),a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-close"})])],1)}),0)])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddUser()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddUser=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var V=a("C7Lr")(M,P,!1,function(e){a("Xzcs")},"data-v-59397091",null).exports,O={name:"terminalManege",data:()=>({allDataArr:[{title:"一级租户数",timeTitle:"当前",smallTitle:"下属一级租户总数",count:"23",percent:"98%",icon:"fa fa-long-arrow-up",color:"blue"},{title:"二级租户数",timeTitle:"当前",smallTitle:"下属二级租户总数",count:"35",percent:"98%",icon:"fa fa-long-arrow-up",color:"green"},{title:"用户数",timeTitle:"月",smallTitle:"当前网省用户总数",count:"3,956",percent:"98%",icon:"fa fa-long-arrow-up",color:"greenAll"},{title:"新增用户数",timeTitle:"当前",smallTitle:"月度新增用户数",count:"20",percent:"98%",icon:"fa fa-long-arrow-up",color:"orange"}],treeData:{name:"xxx网省公司",children:[{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"}]},{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"},{name:"xxx县级公司3"},{name:"xxx县级公司4"},{name:"xxx县级公司5"},{name:"xxx县级公司6"}]},{name:"xxx地市级公司",children:[{name:"xxx县级公司1"},{name:"xxx县级公司2"}]}]}}),mounted(){this.drawTree()},methods:{drawTree(){let e=this.$echarts.init(document.getElementById("treeChart")),t={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[this.treeData],top:"8%",symbol:"emptyCircle",orient:"vertical",expandAndCollapse:!0,label:{normal:{position:"top",rotate:0,verticalAlign:"middle",align:"center",fontSize:19}},leaves:{label:{normal:{position:"bottom",rotate:-90,verticalAlign:"middle",align:"left"}}},animationDurationUpdate:750}]};e.setOption(t),e.resize()}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userOverview"}},[a("el-row",e._l(e.allDataArr,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"0px 10px"},attrs:{span:5}},[a("el-card",{staticClass:"box-card allCard",attrs:{shadow:"hover","body-style":{padding:"15px"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"pull-right",class:t.color},[e._v(e._s(t.timeTitle))])]),e._v(" "),a("h1",[e._v(e._s(t.count))]),e._v(" "),a("small",[e._v(e._s(t.smallTitle))]),e._v(" "),a("div",{staticClass:"stat-percent",class:t.color},[e._v("\n            "+e._s(t.percent)+"\n            "),a("i",{class:t.icon})])])],1)}),1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticStyle:{height:"800px"},attrs:{id:"treeChart"}})])],1)],1)},staticRenderFns:[]};var Q=a("C7Lr")(O,G,!1,function(e){a("a07s")},"data-v-7e803879",null).exports,j={name:"fileService",data:()=>({tableData:[],tableSize:0,tableLimit:10,searchItem:{fileId:"",fileType:""},typeArr:{title:"请选择类型",options:[]}}),mounted(){this.getFileType(),this.search(1)},methods:{getFileType(){this.$axios.get(baseUrl+"/admin/file/types").then(e=>{this.typeArr.options=e.data.data,this.typeArr.options.push({ItemCode:"",ItemName:"全部"})}).catch(e=>{console.log(e)})},search(e){let t="";""!==this.searchItem.fileId?t+="&fileId="+this.searchItem.fileId:""!==this.searchItem.fileType&&(t+="&fileType="+this.searchItem.fileType),this.$axios.get(baseUrl+"/admin/file/list?pageSize="+this.tableLimit+"&pageIndex="+e+t).then(e=>(this.tableSize=e.data.data.total,this.tableData=e.data.data.records,!1)).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},handleClick(){},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)},dateFormat:(e,t,a,i)=>a}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fileService"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"文件ID",prop:"fileId"}},[a("el-input",{attrs:{placeholder:"请输入文件ID"},model:{value:e.searchItem.fileId,callback:function(t){e.$set(e.searchItem,"fileId",t)},expression:"searchItem.fileId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"fileType",label:"文件类型"}},[a("el-select",{attrs:{placeholder:e.typeArr.title},model:{value:e.searchItem.fileType,callback:function(t){e.$set(e.searchItem,"fileType",t)},expression:"searchItem.fileType"}},e._l(e.typeArr.options,function(e){return a("el-option",{key:e.ItemCode,attrs:{label:e.ItemName,value:e.ItemCode}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1)}}},[e._v("刷新")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"fileService",attrs:{data:e.tableData,border:"",size:"medium"}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileType",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileUrl",label:"url"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tenantId",label:"租户ID"}})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var H=a("C7Lr")(j,q,!1,function(e){a("+TNZ")},"data-v-12b54cdf",null).exports,K={name:"fileService",data:()=>({tableData:[],tableSize:0,tableLimit:10,searchItem:{taskName:""},dialogTitle:"",dialogFormVisible:!1,detailData:[],detailSize:0,detailLimit:10}),mounted(){this.search(1)},methods:{search(e){let t="";""!==this.searchItem.taskName&&(t="&taskName="+this.searchItem.taskName),this.$axios.post(baseUrl+"/admin/task/selTask?pageSize="+this.tableLimit+"&pageIndex="+e+t).then(e=>(this.tableSize=e.data.data.total,this.tableData=e.data.data.records,!1)).catch(e=>{console.log(e)})},reset(e){this.$refs[e].resetFields()},detailRow(e){this.dialogTitle="任务详细信息",this.$axios.post(baseUrl+"/admin/task-item/selTaskItemList?taskId="+e.taskID).then(e=>{this.detailData=e.data.data,this.dialogFormVisible=!0}).catch(e=>{console.log(e)})},handleSizeChange(e){this.tableLimit=e,this.search(1)},handleCurrentChange(e){this.search(e)}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fileService"}},[a("el-form",{ref:"searchItem",attrs:{model:e.searchItem,"label-width":"auto"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"任务名称",prop:"taskName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.searchItem.taskName,callback:function(t){e.$set(e.searchItem,"taskName",t)},expression:"searchItem.taskName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.reset("searchItem")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:function(t){return e.search(1)}}},[e._v("刷新")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"fileService",attrs:{data:e.tableData,border:"",size:"medium"}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{type:"taskID",width:"300",label:"任务ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.detailRow(t.row)}}},[e._v(e._s(t.row.taskID))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskTypeName",label:"任务类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskStatusName",label:"任务状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间"}})],1),e._v(" "),a("el-row",{staticStyle:{margin:"20px 0px"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","current-page":1,"page-sizes":[5,10,15],"page-size":e.tableLimit,layout:"total, sizes, prev, pager, next",total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"70%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{staticClass:"detailTable",attrs:{data:e.detailData,border:"",size:"medium"}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",width:"200",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskId",width:"200",label:"任务ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"terminalId",label:"设备ID",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskStatusName",label:"任务状态",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskprogress",label:"任务进度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskStep",label:"任务步骤"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},staticRenderFns:[]};var X=a("C7Lr")(K,J,!1,function(e){a("wpKK")},"data-v-e9dc5d00",null).exports;s.default.use(n.a);var Y=new n.a({routes:[{path:"/",name:"main",component:m,children:[{path:"",name:"terminalManege",component:A,meta:{}},{path:"applicationManege",name:"applicationManege",component:C},{path:"containerManege",name:"containerManege",component:k},{path:"appList",name:"appList",component:$},{path:"alarmPush",name:"alarmPush",component:R},{path:"userManage",name:"userManage",component:E},{path:"tenantManage",name:"tenantManage",component:V},{path:"userOverview",name:"userOverview",component:Q},{path:"fileService",name:"fileService",component:H},{path:"taskList",name:"taskList",component:X}]},{path:"/login",name:"loginPage",component:g},{path:"/register",name:"registerPage",component:v}]}),W=a("ARhN"),Z=a.n(W),ee=a("84iU"),te=a.n(ee),ae=a("gBzA"),ie=a.n(ae),le=a("Bnv9"),se=a.n(le);s.default.use(se.a,{rABS:!1}),s.default.prototype.$axios=te.a,s.default.prototype.$qs=ie.a,s.default.config.productionTip=!1,te.a.defaults.baseURL="/api",te.a.defaults.timeout=3e5,te.a.interceptors.response.use(e=>(12===e.data.code&&Y.replace({path:"/"}),e),e=>{}),s.default.use(l.a),s.default.prototype.$echarts=Z.a,s.default.prototype.$goRoute=function(e){this.$router.push(e)},window.eventBus=new s.default,new s.default({el:"#app",router:Y,components:{App:o},template:"<App/>"})},ROoW:function(e,t){},"S/jE":function(e,t){},TVRz:function(e,t){},Xzcs:function(e,t){},a07s:function(e,t){},dLbT:function(e,t){},"dLd/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgEAAAIBCAMAAADnOJxTAAABGlBMVEVHcEzn7u5+nZrM1tXM6eS/xMTv9fV8qaTg8fDZ9fH5+/vBxcbq8fHO3Nr+///Z8u/2+fn////8/f3z9/cVbGZSjodSf3msyMHJ7ebS39+/z9EbVVL4+vqYs7Cz4dfN7OemxLzH7ef////G2Nvg6+rBwMLb5+bX4+OLwLcWPkLa5uV5oZ5RcHczd2rBy8qQurX1+Pe0urtvkIy/urfv9PTGyMWewL+i39jG29mRtK1jwrpYh4HDyMwAZ2N7iZLM2tpvgob5+/v9/f34+vr9/f2TpKR4fYDg4+N7lJL////+///9/f37/f35+/v+//+0zs2uxcTC1NO/0dGhu7iZr6y5y8rx9vWYubZfhIaIqqjs8/Pf5eWxxMKnxcRZt9EDAAAASXRSTlMA+QMcCTD5AQMG/Cn5Ff0N+vj9+TQUCgYf/DAR+w8/FlQc7xL6Lfr7FR/6/SkHLCX64qQ7+SZhK9pyNMTbPpP9QNrk2ejtmNn9JeNoqwAADplJREFUeNrsnXl3FDcWR58dk3Y7xuwQlgMDIcnJMhOSYfZ9nwc2ZM+s3/9rDAwBbHctkkqqkt679z84vVTp3fo9SdXuFgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYmCuXf3P58i+vMBCO2b758fqd3+8wECDbH3+wYhRcc+3qzQ9ubjMOAAAAAAAAAAAAAAAAAAAAbaIdMCpOC48KVL5fhSgZ1oyzqerHB8LblxlsW7WPFuHcW1cZ9JbKf+xBkisM6ASV137qazC4Tdc/z0sxwu5W+UjQcv2LvTKjXX31Z3gPRr1eAZp/HyhdlfWFFw++9Ob+1tb+m5fO710MfgUkqLn+44/fDd0vIAjaq3+eLYPA8iLBTKy2S+Rxjh1hgqDRq//5U/dy3RfAgToEmLxrkG4BObB8/Wcrf5AFlKby61+K3CdGgUau/5IfF8ABbwJsvjkOVB7/mev/zy9ukQM1Xf9nd+YVoPsoUGC2+p/8P9G//XW9RP0HJaBeswggL27wfHpmMQFwYNH6v/zvP488d6tg/T+63n1MKFBIgI7//bsumQC9h4UDpev/8v++0aXLPyABtSsvwMgwdxbrH0fz5QDlK9oA0gSYJwhwYKYAGPzrTq3BABTIW//kD3Mdd+awpALKbKDkElDDP5vTXaIvtPj+gO6iQCLXxhtA+Kc09XzfVTrnqoBWkHkGML0HzDE5YDKQVYCs9dfZZodMBmYQINqAL1XmNwAFitV/SIBbo98ZUZgPlR3C4gJodA9YbJsYBdIEGKlp5QLofsdsgNomJsCkv+tboAcwH8ybAJotAZbcJsaBvAJU3wN6FaDCWeo/IMA3FSVA92yGKsdMAWL/qruuHkAjKJUA/QJsVScAnaCEAC1FAAoElz9DAgw+XhUFXCfAogagQIQAut5JFeBhlS2gZ3JLxfsS4Nz63EjJ2kuAAAWueS38bs+oqDkBuhQ4OHb820RAoADtGqAbh9p1LTAJTBXgw0EBblUgwPUNBwQF4hOg4QhgOpgjATSu/i8FeBMFXCdANRGgw30AAWTzL0KmRcDIRgEpUGMPUNsRsKkA5Y+of2oEKAoYSQAjBjAX8C4AKdC7DMgrQMUGkAJpCaBmBECBOXpA3QYoBkTuBKXPAva0hRRwbEC4AJoiQK0RQB/Y2AtME0D1ae+Dd6uOgFMO3PdXfom9VKMnAbtVR8Dxc9/XRw5DIDqrk3pA1Qa8OMpnov7JZR+YxwBVbSAFDlQPD70pEL1gS1oJVm7ApdfH+cRbCMTXyWATOD4C3zrrAwkXqsEIOPYZJm+7Aimbdh0vc6H5CDgtK5OAyB7wVfsCON0azGOAWogAnzcI8vQAC7MApykw1zQQA1q4IaREwOnBoAdMNUCaNcDJekDnioCGDPAVAilB7cUAFyGQKQKGH7xuTABXCsxigDRngJ8+kCKAJwMEA7LNAhozwEsIJK3XPUSAPlAXIZDUA9RFBDgJgSQBOkbj/5+oMRUBqltDIbAiAqw3geEQuHPF7R2hngiw2AROKXDihM9+snIcAREGfN50BAyFwK5nATQ8AvYvtG2A9eXAibNUmoC75UC2CDA6D7QfAtlmAZYNUMshkNQCfDUB2yEwaxOwYYASAf6agOU2gAExZ6z2FNBsBphuAoZnAomzAAwgAjZeact2E7CqwBwRgAEGI0CTBGjcAJMKpEYABhAB3uaBx8/EkAIY4D0EUgXAAAwIFuB9SwaY2xpOngdGGLAn9gwQDNCkJoABrAVRwGEEYIDFeaC6FcCYAhjg3IDk7SDHTeDV0saOAUwDJmwJYECUALYMsKBAugCuDXiCAc4N+J2dnWEMcH5vIKMALg0QDHBrgNozQGkCHtsABjhvAxOagHsDFAMwwJYBUwWQPQxwboDnDFCaQLAA7xECTAMwAAOMG3DNxTQAA05cOyeGYneFAe4MODkcP2xKgEwGqEMD+trA6goR4NsA+QQDeh9qqf5f9xrwMwxwYcB//tA3FbyDAS4M6J0Krs5hgG8DXOwHJS4FjBlwgAGuDRC9Z8cAxYCEIbj3xz4DVhjgwACRcz/uWwyQAT4MEDsGTBYgdClg7LPit8+1PRHAgIkGrH7wdtMG5GwC7rYDXpwOBvidBnxvwF0McGrA96dz4w0M8G3AnRsY4NKA1+fzLga4XAq8Pp8zGODRANkwQDDAqQErDHBowInzebfpTwhgAAZgwNQTP9O8AZLHAHViwP7pKr+1xgBXBmwU+cxZDPBlwOkq/+gNDIgzQEwlwLMuQAb4MeA+BnjPgK4xxAD3BjAPcGNA9xj+BAN8GHCxr7oY4MSA3jE8gwEYgAH2DegfwrufvYMB1g3YG6rsg78cYID5DAi5t4oBdg2IGUAMMGjA2Mcr2jdAMaCXrx5jgPMMGB89DDBtQIgAjg1Q6wYE1b/xL5jHgF4OQgXAgGgDxFIAYIBZA0YU+DcGmDZgdNS+JQOMZ0B4D7BjgGBAUABsHn7TBggGnOShSqwAdgwQDIi//rX5LxfHgCgBRgwQaXsiIN4NSKm/GwNkkgFNKBA6Wu0bsOo1YOQrAIYHrXEDEsvf/ETw9IGPjJBJAx49nSSAGwM6941sZED4QDkwIFIBPwaMPrtZA2IU6JKg9cXAtOobWAp0uBt4tu0bcD20ZBp6VRgxICzOp7WBhvq/hL2KHwNOKRD4vMPKDHh6MZsARgzQBOufPzD0af+qrQ3EjY5tAyQ+pFNGqyYDYi8PhwakKdCGAXnLb2Ax2HPsKeNYvQEHUTXSaAPEkgGScDFVb0D4kEjsi6o9AyTBgIdfVm1A9svfigHJCsT1jiUViB6QwxQBzBkgmubApXoM+Py9i9GFSZKrbQEkbWrXf3lVlAFpmyMYMKURvHrW+RED9oqW/mFSSZIVa9wASVzij1xmE+YMs1/7yQdkyIBkBcZe+OL7sxswW/09GJC2N5Rjz2mu0k87FBsCjKxl8txi3fyf81k3+54fyfwGGImAsTMoc+HJ0ld+jkNwYoAEFyBu420radC/++/T+w/PH2TZg8lkgJo3IHizL+6iTBz1wwsZWx8RkEGBrkfFLUMjhjzXYCfX3K0Bo38wEbIFUNO8N/GaN7kS8GXAtMxX2wZo2ugNP8BE7QcFaNWAVXQIBCiQe7VWUf275iuNrwTOJhggEh8Cy4uQadJvbiWw7cKAjJtO9taCO0kKjHyLQBUKFLndYPGewCrNgMFvEbBowLD3JlYC8WdSpQHH3upJ5psOpneE5zNAExehC+R+54VudzNgsxo3fhs36qkGSPeHcherd89x9OwPWzPgxLn8+tMoBZLbQIZKLCWAuWlA11cMBzswsQ3UyNgRGhQg6XezpreB2hXwZEDHN80HP82WAQGHZ1KArm+aD30iBlgNgdx/dVG/AWEHZ1QA6dwCK2tAzd8sqP4M6PnFES8GxJ+GFwMyKlCzARGHZVaA/p8dErUdAnHHJA4NUNNtIPaQDAsgg5shNvtAwuFYNkAyGLBWCftkcRUGpAmwa1aAkd8fzDAllIoU6DyUQ98RUF6BigxIPBLjAkjgByOSPZAaFJAJRxF397T1EMijQO9PUixkgMgkDX0YMHxvVGRCEixqQNIK1s1eQNhMYHIOLGdA4haGtwgICoHcp79k9SXldUwLEPEzpM0okO+dfRgQ8VvEdRuQ/12dCBD1a9QZ3/LR48czln+CAGJdgOgfJK8oBsq+nZcICJ8M5p8RzFF88f4NogVCoOyIZH67yY6pGwOi/1annTNDgOx9oA0HckwxnAiQGAJVj0ymOaYXA1JDQC0W32MEpE0GKx2brMtMbwZMUaACJfLvLzkSIFmBagwossHsSYDJ64HT/znLwKkUuclQT6y1GALzThGK3mNyJsBkBeadLxa9uaxrlwJM3Rqcbc1Q/uMla3FqwDQFii0bN1/syVH5z5eoXwEqCoEl/67AowBlQ6B7MD97oHUhvgU4vQDOGQLdo/mLrzHAjQKdb3fvOwSotQ+sZzGABDAyFZiwHKhQAHUtQEEFqjdAMGCyAk2HgNADugegtAHCJKBiBXZ2IxWQZhUgAbr2BjU6BNrtAwgweX+46RAQZoHTZ4PpIcAywMh0sN0+QAKM94EIBRpcDyDAUE3sK0AC5EsBEwZQeWcKkABZFQh5WF0GCAlQIgXSPjJIApACCGBiRdCQAghQLAW0jT7Q5zkMKSBWFBAmgWl9IMAADf7tngUVEFpAuRSQBlIAAYorULEBj5kEDrIaKEuMAzWHAAlQPAbqTgEEGOZa0IRQpoaAykIODJ0URKSAlAoBQYCl2QlbFo7/2miFKSB0gDw7A+sgBeozAAHybg6NOpCsgMxUfwRwpQACzO+AaD0KUP9iCjz711H9CgxucEGiA7u7OxmKNYcCXS9KKacroDs5ilU2BY76DKCQ0xXQTNWSsg6MHjqkCjCDAswAmooBqS8FhAAoHwRZ6iVlHECAmWNA65oMUP+5HQi8GzCTAiGRBWWmA7J8JxhoWbuUzb4CYXMWKLk0zJHcqRL0PodqzboqSJJAMijQ+xRKlcBqe1IOyNwxEG4nJBqxdA50b/0fPRl7b0qXi+2Q0mSdx4cGwdCDqFtGrsUrUHI68Dggeiha3j6wE3xx5lzQxQU85V9kLjAava+u28Oj6a1g4C++uf5r2R+Y+AWipd4eFndAiylA/auUIP3zHz+/nfye1L8VBwY9+OhXP6X+VhyIqUtsDZXyt+LAHO/CsNefBLp8ykATzWA5tWCWJEgtWM7XgtYsUMpvUYJpG0iMqjkJct5HBrseMIaeNWDonKrAQPlVgZEBAIAgbt9lDHxzlSEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPhfe3AgAAAAACDI33qFASoAAAAAAAAAAADgCWmkJA4cLArcAAAAAElFTkSuQmCC"},syAP:function(e,t){},uAlJ:function(e,t){},wisF:function(e,t){},wpKK:function(e,t){},ygVq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c2e7cbd568e1e05cc5c2.js.map